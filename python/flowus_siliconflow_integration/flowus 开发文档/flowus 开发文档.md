æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“–
FlowUs æ’ä»¶å¼€å‘å®Œæ•´æŒ‡å—
æ¦‚è¿°
FlowUs æ’ä»¶å¼€å‘ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„APIæ¥å£ï¼Œå…è®¸å¼€å‘è€…åˆ›å»ºåŠŸèƒ½ä¸°å¯Œçš„æ’ä»¶æ¥æ‰©å±•FlowUsçš„åŠŸèƒ½ã€‚æœ¬æŒ‡å—å°†å¸¦æ‚¨äº†è§£ä»é›¶å¼€å§‹å¼€å‘æ’ä»¶çš„å®Œæ•´æµç¨‹ã€‚
æ’ä»¶ç±»å‹
FlowUs æ”¯æŒä¸¤ç§ä¸åŒç±»å‹çš„é›†æˆåº”ç”¨ï¼Œåˆ†åˆ«é€‚ç”¨äºä¸åŒçš„å¼€å‘åœºæ™¯å’Œç”¨æˆ·ä½“éªŒéœ€æ±‚ï¼š
1. å†…éƒ¨æ’ä»¶ (Internal Plugin)
åµŒå…¥å¼UIï¼šæ’ä»¶ç•Œé¢ç›´æ¥åµŒå…¥åœ¨ FlowUs åº”ç”¨å†…éƒ¨
æ— ç¼é›†æˆï¼šç”¨æˆ·åœ¨ FlowUs å†…å®Œæˆæ‰€æœ‰æ“ä½œï¼Œæ— éœ€è·³è½¬
ç®€åŒ–æˆæƒï¼šç”¨æˆ·åœ¨åº”ç”¨å†…ç›´æ¥é€‰æ‹©è¦æˆæƒçš„é¡µé¢
é€‚ç”¨åœºæ™¯ï¼šFlowUs å®˜æ–¹æ’ä»¶ã€ä¼ä¸šå†…éƒ¨å·¥å…·
æŠ€æœ¯ç‰¹æ€§ï¼š
æ— éœ€é…ç½® â€‹â€‹â€‹â€‹redirectUrisâ€‹â€‹â€‹â€‹
ç›´æ¥APIè°ƒç”¨æ“ä½œå†…å®¹
ç®€åŒ–æˆæƒæµç¨‹ï¼Œä¸€æ­¥å®Œæˆæœºå™¨äººåˆ›å»ºå’Œæˆæƒ
2. å¤–éƒ¨åº”ç”¨ (External Application)
ç‹¬ç«‹åº”ç”¨ï¼šç¬¬ä¸‰æ–¹å¼€å‘çš„ç‹¬ç«‹åº”ç”¨ç¨‹åº
æ ‡å‡†OAuth2ï¼šéµå¾ªOAuth2.0æˆæƒç æµç¨‹
è·¨å¹³å°é›†æˆï¼šå¯ä»¥åœ¨ä»»ä½•å¹³å°ä¸Šå¼€å‘å’Œéƒ¨ç½²
é€‚ç”¨åœºæ™¯ï¼šç¬¬ä¸‰æ–¹å¼€å‘è€…å·¥å…·ã€SaaSæœåŠ¡é›†æˆ
ç±»å‹å¯¹æ¯”è¡¨
ç‰¹æ€§
å†…éƒ¨æ’ä»¶ (internal)
å¤–éƒ¨åº”ç”¨ (external)
spaceId
å¿…å¡«
ä¸éœ€è¦
redirectUris
å¯é€‰ï¼ˆé€šå¸¸ä¸ºç©ºï¼‰
å¿…å¡«
æœºå™¨äººåˆ›å»º
åˆ›å»ºé›†æˆåº”ç”¨æ—¶è‡ªåŠ¨åˆ›å»º
éœ€è¦OAuth2æˆæƒæµç¨‹
é¡µé¢æƒé™
é€šè¿‡PATCHæ¥å£åŠ¨æ€ç®¡ç†
OAuth2æˆæƒæ—¶æŒ‡å®š
UIé›†æˆ
åµŒå…¥FlowUså†…
ç‹¬ç«‹åº”ç”¨
Tokenè·å–
åˆ›å»ºæ—¶ç›´æ¥è¿”å›
OAuth2äº¤æ¢
å¼€å‘å¤æ‚åº¦
ç®€å•
ä¸­ç­‰
å®‰å…¨éªŒè¯
å†…éƒ¨éªŒè¯
client_secretéªŒè¯
å¦‚ä½•é€‰æ‹©ç±»å‹ï¼Ÿ
é€‰æ‹©å†…éƒ¨æ’ä»¶çš„æƒ…å†µï¼š
å¼€å‘ FlowUs å®˜æ–¹åŠŸèƒ½æ‰©å±•
ä¼ä¸šå†…éƒ¨å·¥å…·ï¼Œä¸éœ€è¦å¯¹å¤–å‘å¸ƒ
å¸Œæœ›æä¾›æ— ç¼çš„ç”¨æˆ·ä½“éªŒ
ä¸éœ€è¦å¤æ‚çš„OAuthæµç¨‹
é€‰æ‹©å¤–éƒ¨åº”ç”¨çš„æƒ…å†µï¼š
ç¬¬ä¸‰æ–¹å¼€å‘è€…å·¥å…·
éœ€è¦åœ¨å¤šä¸ªå¹³å°é›†æˆçš„SaaSæœåŠ¡
ç‹¬ç«‹çš„åº”ç”¨ç¨‹åº
éœ€è¦éµå¾ªæ ‡å‡†OAuth2æµç¨‹çš„åœºæ™¯
æ ¸å¿ƒæ¦‚å¿µ
é›†æˆåº”ç”¨ (Integration)
æ’ä»¶çš„åŸºç¡€é…ç½®å’Œèº«ä»½æ ‡è¯†
å®šä¹‰æ’ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€å›¾æ ‡ç­‰ï¼‰
é…ç½®OAuthå›è°ƒåœ°å€ï¼ˆå…¬å…±æ’ä»¶éœ€è¦ï¼‰
è®¾ç½®æœºå™¨äººèƒ½åŠ›æƒé™
å¼€å‘æµç¨‹
ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé›†æˆåº”ç”¨
å¼€å‘è€…ä¸­å¿ƒä¸»è¦æ˜¯æä¾›äº†ä¸€äº›flowusçš„apiç»™æœ‰å¼€å‘èƒ½åŠ›çš„ç”¨æˆ·ä½¿ç”¨ï¼Œå…¥å£åœ¨ç©ºé—´è®¾ç½®é‡Œã€‚

é›†æˆåº”ç”¨ä¸»è¦åˆ†2ç§ï¼š
æ’ä»¶å†…åº”ç”¨ï¼šå¼€å‘è€…ç”¨äºè‡ªå·±ç©ºé—´é¡µé¢ï¼Œæ¯”å¦‚æƒ³ç”¨apiå¯¹å¯¹æŸä¸ªé¡µé¢è¿›è¡Œç¼–è¾‘ï¼Œå°±å¯ä»¥åˆ›å»ºåº”ç”¨æ’ä»¶ã€‚
å¤–éƒ¨åº”ç”¨ï¼šå¼€å‘è€…ç»™å…¶ä»–flowusç”¨æˆ·ä½¿ç”¨ï¼Œæ¯”å¦‚å¼€å‘è€…æœ‰ä¸€ä¸ªæ–°é—»ç±»ç½‘ç«™ï¼Œå¸Œæœ›æ”¯æŒç”¨æˆ·æŠŠæŸæ¡æ–°é—»åŒæ­¥åˆ°flowusï¼Œå°±å¯ä»¥åˆ›å»ºå¤–éƒ¨åº”ç”¨ï¼Œç”¨æˆ·æˆæƒåå°±æœ‰ç›¸åº”çš„æƒé™è¿›è¡Œè¯»å†™ã€‚å¤–éƒ¨åº”ç”¨éœ€è¦å¡«å†™è‡ªå·±çš„ç½‘ç«™åœ°å€ä»¥åŠcallbackåœ°å€ï¼Œè·Ÿå¸¸è§„ç½‘ç«™æˆæƒæµç¨‹å·®ä¸å¤šã€‚æˆæƒåä¼šè®¿é—®callbackåœ°å€å¹¶ä¸”å¸¦ä¸Šå¯è®¿é—®ç”¨æˆ·æ•°æ®çš„codeã€‚

ç¬¬äºŒæ­¥ï¼šåº”ç”¨æˆæƒï¼ˆæ ¹æ®åº”ç”¨ç±»å‹é€‰æ‹©ï¼‰
å†…éƒ¨æ’ä»¶å¼€å‘æµç¨‹
å†…éƒ¨æ’ä»¶çš„UIåµŒå…¥åœ¨FlowUsåº”ç”¨å†…ï¼Œåˆ›å»ºæ—¶ç›´æ¥åˆ›å»ºæœºå™¨äººï¼Œæ— éœ€é¢å¤–çš„æˆæƒæ­¥éª¤ã€‚

å¤–éƒ¨åº”ç”¨å¼€å‘æµç¨‹
å¤–éƒ¨åº”ç”¨æ˜¯ç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œç”¨æˆ·åœ¨å¤–éƒ¨åº”ç”¨ä¸­æ“ä½œï¼Œé€šè¿‡æ ‡å‡†çš„ OAuth2.0 æˆæƒç æµç¨‹è·å–æƒé™
è®¿é—®æˆæƒURL
é€šè¿‡è®¿é—®æˆæƒurlè¿›å…¥æˆæƒé¡µé¢,é€‰æ‹©æˆæƒé¡µé¢åè‡ªåŠ¨è·³è½¬è°ƒç”¨å¤–éƒ¨æ’ä»¶é…ç½®çš„é‡å®šå‘URI
é‡å®šå‘URIçš„æ¥å£ä¸­ç”¨æˆ·è¦æ·»åŠ äº¤æ¢è®¿é—®ä»¤ç‰Œé€»è¾‘
typescript demo ä»£ç å¦‚ä¸‹
// åœ¨å›è°ƒé¡µé¢å¤„ç†æˆæƒç 
const urlParams = new URLSearchParams(window.location.search);
const code = urlParams.get('code');
const state = urlParams.get('state');

// ç¬¬ä¸‰æ–¹åº”ç”¨äº¤æ¢è®¿é—®ä»¤ç‰Œ
const tokenResponse = await fetch('https://api.flowus.cn/oauth/token', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    grant_type: 'authorization_code',
    code: code,
    client_id: integration.id,
    client_secret: integration.secret,
    redirect_uri: 'https://my-plugin.com/callback'
  })
});

const { access_token } = await tokenResponse.json();
å®Œæ•´ç¤ºä¾‹ä»£ç 
åˆ›å»ºé¡µé¢
// ä½¿ç”¨è®¿é—®ä»¤ç‰Œè°ƒç”¨API
const page = await fetch('https://api.flowus.cn/v1/pages', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${access_token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    parent: { database_id: 'database-uuid' },
    properties: {
      'æ ‡é¢˜': {
        type: 'title',
        title: [{ text: { content: 'å¤–éƒ¨åº”ç”¨åˆ›å»ºçš„ä»»åŠ¡' } }]
      }
    }
  })
});
API æ¥å£æ€»è§ˆ
OAuth2 æˆæƒ APIï¼ˆå¤–éƒ¨åº”ç”¨ï¼‰
â€‹â€‹â€‹â€‹GET /oauth/authorizeâ€‹â€‹â€‹â€‹ - å¯åŠ¨OAuth2æˆæƒæµç¨‹
â€‹â€‹â€‹â€‹GET /oauth/authorize/infoâ€‹â€‹â€‹â€‹ - è·å–æˆæƒé¡µé¢ä¿¡æ¯
â€‹â€‹â€‹â€‹POST /oauth/tokenâ€‹â€‹â€‹â€‹ - äº¤æ¢è®¿é—®ä»¤ç‰Œ
API (v1)
â€‹â€‹â€‹â€‹POST /v1/pagesâ€‹â€‹â€‹â€‹ - åˆ›å»ºé¡µé¢/è®°å½•
â€‹â€‹â€‹â€‹GET /v1/blocks/{blockId}â€‹â€‹â€‹â€‹ - è·å–å•ä¸ªå—
â€‹â€‹â€‹â€‹GET /v1/blocks/{blockId}/childrenâ€‹â€‹â€‹â€‹ - è·å–å—çš„å­å—ï¼ˆåŸºäº subNodes åˆ†é¡µï¼‰
â€‹â€‹â€‹â€‹PATCH /v1/blocks/{blockId}/childrenâ€‹â€‹â€‹â€‹ - è¿½åŠ å­å—åˆ°æŒ‡å®šå—
â€‹â€‹â€‹â€‹PATCH /v1/blocks/{blockId}â€‹â€‹â€‹â€‹ - æ›´æ–°å—
â€‹â€‹â€‹â€‹DELETE /v1/blocks/{blockId}â€‹â€‹â€‹â€‹ - åˆ é™¤å—
åˆ†é¡µç‰¹æ€§ï¼š å­å—è·å–APIä½¿ç”¨åŸºäºçˆ¶å— â€‹â€‹â€‹â€‹subNodesâ€‹â€‹â€‹â€‹ å­—æ®µçš„åˆ†é¡µæœºåˆ¶ï¼Œä¿æŒç”¨æˆ·è®¾ç½®çš„å—é¡ºåºï¼Œæ¸¸æ ‡æ ¼å¼ä¸ºç®€å•çš„å—IDã€‚
æœºå™¨äººAPIè¯¦ç»†è¯´æ˜
è®¤è¯
æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ HTTP å¤´ä¸­åŒ…å« Bearer Tokenï¼š
Authorization: Bearer your_bot_token_here
åŸºç¡€ URL
æ­£å¼ç¯å¢ƒ
https://api.flowus.cn/v1
åˆ›å»ºé¡µé¢
åˆ›å»ºä¸€ä¸ªæ–°çš„é¡µé¢æˆ–å¤šç»´è¡¨è®°å½•ã€‚
POST /v1/pages
è¯·æ±‚ä½“ï¼š
{
  "parent": {
    "database_id": "d9824bdc-8445-4327-be8b-5b47500af6ce"
  },
  "icon": {
    "emoji": "ğŸ“"
  },
  "cover": {
    "external": {
      "url": "https://example.com/cover.jpg"
    }
  },
  "properties": {
    "æ ‡é¢˜": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ–°é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    },
    "æè¿°": {
      "type": "text",
      "text": [
        {
          "text": {
            "content": "é¡µé¢æè¿°"
          }
        }
      ]
    },
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "è¿›è¡Œä¸­"
      }
    },
    "ä»·æ ¼": {
      "type": "number",
      "number": 99.99
    }
  }
}
æ”¯æŒçš„å±æ€§ç±»å‹ï¼š
æ ‡é¢˜å±æ€§ï¼š
{
  "æ ‡é¢˜": {
    "type": "title",
    "title": [
      {
        "type": "text",
        "text": {
          "content": "é¡µé¢æ ‡é¢˜"
        }
      }
    ]
  }
}
æ–‡æœ¬å±æ€§ï¼š
{
  "æè¿°": {
    "type": "text", 
    "text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯ä¸€æ®µæè¿°æ–‡æœ¬"
        }
      }
    ]
  }
}
é€‰æ‹©å±æ€§ï¼š
{
  "çŠ¶æ€": {
    "type": "select",
    "select": {
      "name": "è¿›è¡Œä¸­"
    }
  }
}
æ•°å­—å±æ€§ï¼š
{
  "ä»·æ ¼": {
    "type": "number",
    "number": 99.99
  }
}
æƒé™ç³»ç»Ÿ
é¡µé¢æƒé™ç®¡ç†
æœºå™¨äººåªèƒ½è®¿é—®è¢«æ˜ç¡®æˆæƒçš„é¡µé¢
æ”¯æŒåŠ¨æ€æ·»åŠ /ç§»é™¤é¡µé¢æƒé™
æƒé™æ£€æŸ¥åœ¨æ¯æ¬¡APIè°ƒç”¨æ—¶è¿›è¡Œ
é”™è¯¯å¤„ç†
å¸¸è§é”™è¯¯ç 
çŠ¶æ€ç 
é”™è¯¯ç 
æè¿°
é”™è¯¯å“åº”æ ¼å¼
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
}
è¯´æ˜:
â€‹â€‹â€‹â€‹objectâ€‹â€‹â€‹â€‹: å›ºå®šä¸º "error"
â€‹â€‹â€‹â€‹statusâ€‹â€‹â€‹â€‹: HTTPçŠ¶æ€ç 
â€‹â€‹â€‹â€‹codeâ€‹â€‹â€‹â€‹: é”™è¯¯ç±»å‹ä»£ç 
â€‹â€‹â€‹â€‹messageâ€‹â€‹â€‹â€‹: è¯¦ç»†é”™è¯¯ä¿¡æ¯
å¼€å‘å·¥å…·å’Œèµ„æº
ç¤ºä¾‹ä»£ç 
// å®Œæ•´çš„æ’ä»¶å¼€å‘ç¤ºä¾‹
class FlowUsPlugin {
  constructor(integrationId, secret) {
    this.integrationId = integrationId;
    this.secret = secret;
    this.accessToken = null;
  }
  
     // OAuth2æˆæƒï¼ˆå¤–éƒ¨åº”ç”¨ï¼‰
  async authorize(authCode, redirectUri) {
    const response = await fetch('/oauth/token', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        grant_type: 'authorization_code',
        code: authCode,
        client_id: this.integrationId,
        client_secret: this.secret,
        redirect_uri: redirectUri
      })
    });
    
    const data = await response.json();
    this.accessToken = data.access_token;
    return data;
  }
  
  // åˆ›å»ºé¡µé¢
  async createPage(parentId, properties) {
    const response = await fetch('/v1/pages', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        parent: { database_id: parentId },
        properties
      })
    });
    
    return response.json();
  }
}
æ€»ç»“
FlowUs æ’ä»¶å¼€å‘ç³»ç»Ÿä¸ºä¸åŒåœºæ™¯æä¾›äº†çµæ´»çš„è§£å†³æ–¹æ¡ˆï¼š
å†…éƒ¨æ’ä»¶ï¼šåµŒå…¥åœ¨FlowUsåº”ç”¨å†…ï¼Œç”¨æˆ·åœ¨è½¯ä»¶å†…å®Œæˆæˆæƒå’Œæ“ä½œ
å¤–éƒ¨åº”ç”¨ï¼šç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œé€šè¿‡REST APIä¸FlowUsé›†æˆï¼Œéµå¾ªæ ‡å‡†OAuth2.0æµç¨‹
é€‰æ‹©é€‚åˆæ‚¨çš„åº”ç”¨ç±»å‹ï¼Œéµå¾ªç›¸åº”çš„å¼€å‘æµç¨‹ï¼Œå³å¯å¿«é€Ÿæ„å»ºå¼ºå¤§çš„FlowUsé›†æˆåº”ç”¨ï¼
å¿«é€Ÿå‚è€ƒ
å…³é”®å·®å¼‚å¯¹æ¯”
ç‰¹æ€§
å†…éƒ¨æ’ä»¶ (internal)
å¤–éƒ¨åº”ç”¨ (external)
APIç«¯ç‚¹æ€»è§ˆ
OAuthæˆæƒï¼ˆå¤–éƒ¨åº”ç”¨ï¼‰
â€‹â€‹â€‹â€‹GET /oauth/authorizeâ€‹â€‹â€‹â€‹ - å¯åŠ¨OAuth2æˆæƒ
â€‹â€‹â€‹â€‹GET /oauth/authorize/infoâ€‹â€‹â€‹â€‹ - è·å–æˆæƒé¡µé¢ä¿¡æ¯
â€‹â€‹â€‹â€‹POST /oauth/tokenâ€‹â€‹â€‹â€‹ - äº¤æ¢è®¿é—®ä»¤ç‰Œ
æœºå™¨äººAPI (v1)
â€‹â€‹â€‹â€‹POST /v1/pagesâ€‹â€‹â€‹â€‹ - åˆ›å»ºé¡µé¢/è®°å½•
ç¯å¢ƒé…ç½®
ç¯å¢ƒ
Base URL
æè¿°


æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ—‚ï¸
å¤šç»´è¡¨ API æ–‡æ¡£
Database API æä¾›äº†å¯¹FlowUså¤šç»´è¡¨ï¼ˆæ•°æ®åº“ï¼‰çš„å®Œæ•´ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬åˆ›å»ºã€æŸ¥è¯¢ã€æ£€ç´¢å’Œæ›´æ–°æ“ä½œã€‚
æ¦‚è¿°
Database API æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š
åˆ›å»ºæ–°çš„æ•°æ®åº“
è·å–æ•°æ®åº“ä¿¡æ¯
æŸ¥è¯¢æ•°æ®åº“è®°å½•ï¼ˆæ”¯æŒè¿‡æ»¤ã€æ’åºã€åˆ†é¡µï¼‰
æ›´æ–°æ•°æ®åº“é…ç½®
è®¤è¯
æ‰€æœ‰APIè¯·æ±‚éƒ½éœ€è¦åœ¨Headerä¸­åŒ…å«Bot Tokenï¼š
Plain Text
1
Authorization: Bearer <your_bot_token>
åŸºç¡€ URL
æ­£å¼ç¯å¢ƒ
https://api.flowus.cn/v1
æµ‹è¯•ç¯å¢ƒ
https://api-test.allflow.cn/v1
æ•°æ®æ ¼å¼è¯´æ˜
æ•°æ®æ ¼å¼è¯´æ˜
Database API ä½¿ç”¨æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§ï¼š
æ•°æ®åº“å¯¹è±¡
æ•°æ®åº“å¯¹è±¡åŒ…å«ä»¥ä¸‹å±æ€§ï¼š
{
  "object": "database",
  "id": "uuid",
  "created_time": "2024-01-01T00:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "uuid"
  },
  "last_edited_time": "2024-01-01T00:00:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "uuid"
  },
  "title": [
    {
      "type": "text",
      "text": {
        "content": "æ•°æ®åº“æ ‡é¢˜"
      }
    }
  ],
  "icon": {
    "type": "emoji",
    "emoji": "ğŸ“‹"
  },
  "cover": {
    "type": "external",
    "external": {
      "url": "https://example.com/cover.jpg"
    }
  },
  "properties": {
    "property_id": {
      "id": "property_id",
      "name": "å±æ€§åç§°",
      "type": "property_type"
    }
  },
  "parent": {
    "type": "page_id",
    "page_id": "uuid"
  },
        "url": "https://api.flowus.cn/docs/xxx", // æ­£å¼ç¯å¢ƒ
  "archived": false,
  "is_inline": false
}
å±æ€§ç±»å‹
æ”¯æŒçš„å±æ€§ç±»å‹åŠå…¶é…ç½®ï¼š
åŸºç¡€å±æ€§ç±»å‹
titleï¼ˆæ ‡é¢˜ï¼‰
{
  "id": "title",
  "name": "æ ‡é¢˜",
  "type": "title",
  "title": {}
}
rich_textï¼ˆå¯Œæ–‡æœ¬ï¼‰
{
  "id": "description",
  "name": "æè¿°",
  "type": "rich_text",
  "rich_text": {}
}
numberï¼ˆæ•°å­—ï¼‰
{
  "id": "amount",
  "name": "é‡‘é¢",
  "type": "number",
  "number": {
    "format": "number"
  }
}
checkboxï¼ˆå¤é€‰æ¡†ï¼‰
{
  "id": "completed",
  "name": "æ˜¯å¦å®Œæˆ",
  "type": "checkbox",
  "checkbox": {}
}
æ•°æ®æ ¼å¼ï¼š
APIæ¥å—ï¼šâ€‹â€‹â€‹â€‹{"checkbox": true}â€‹â€‹â€‹â€‹ æˆ– â€‹â€‹â€‹â€‹{"checkbox": false}â€‹â€‹â€‹â€‹
dateï¼ˆæ—¥æœŸï¼‰
{
  "id": "due_date",
  "name": "æˆªæ­¢æ—¥æœŸ",
  "type": "date",
  "date": {}
}
æ•°æ®æ ¼å¼ï¼š
APIæ ¼å¼ï¼šâ€‹â€‹â€‹â€‹{"start": "2024-01-01T10:30:00", "end": null}â€‹â€‹â€‹â€‹
urlï¼ˆé“¾æ¥ï¼‰
{
  "id": "website",
  "name": "ç½‘ç«™",
  "type": "url",
  "url": {}
}
emailï¼ˆé‚®ç®±ï¼‰
{
  "id": "email",
  "name": "é‚®ç®±",
  "type": "email",
  "email": {}
}
phone_numberï¼ˆç”µè¯ï¼‰
{
  "id": "phone",
  "name": "ç”µè¯",
  "type": "phone_number",
  "phone_number": {}
}
é€‰æ‹©å±æ€§ç±»å‹
selectï¼ˆå•é€‰ï¼‰
{
  "id": "status",
  "name": "çŠ¶æ€",
  "type": "select",
  "select": {
    "options": [
      {
        "id": "option_id",
        "name": "é€‰é¡¹åç§°",
        "color": "blue"
      }
    ]
  }
}
multi_selectï¼ˆå¤šé€‰ï¼‰
{
  "id": "tags",
  "name": "æ ‡ç­¾",
  "type": "multi_select",
  "multi_select": {
    "options": [
      {
        "id": "option_id",
        "name": "æ ‡ç­¾åç§°",
        "color": "green"
      }
    ]
  }
}
å…³è”å±æ€§ç±»å‹
peopleï¼ˆäººå‘˜ï¼‰
{
  "id": "assignee",
  "name": "è´Ÿè´£äºº",
  "type": "people",
  "people": {}
}
æ•°æ®æ ¼å¼ï¼š
APIæ ¼å¼ï¼šâ€‹â€‹â€‹â€‹[{"object": "user", "id": "user-uuid"}]â€‹â€‹â€‹â€‹
filesï¼ˆæ–‡ä»¶ï¼‰
{
  "id": "attachments",
  "name": "é™„ä»¶",
  "type": "files",
  "files": {}
}
æ•°æ®æ ¼å¼ï¼š
APIæ ¼å¼ï¼šâ€‹â€‹â€‹â€‹[{"name": "file.pdf", "type": "external", "external": {"url": "..."}}]â€‹â€‹â€‹â€‹
relationï¼ˆå…³è”ï¼‰
{
  "id": "project",
  "name": "å…³è”é¡¹ç›®",
  "type": "relation",
  "relation": {
    "database_id": "related_database_id",
    "synced_property_id": "synced_property_id"
  }
}
rollupï¼ˆæ±‡æ€»ï¼‰
{
  "id": "task_count",
  "name": "ä»»åŠ¡æ•°é‡",
  "type": "rollup",
  "rollup": {
    "relation_property_id": "relation_property_id",
    "rollup_property_id": "property_to_rollup",
    "function": "count"
  }
}
formulaï¼ˆå…¬å¼ï¼‰
{
  "id": "calculated_field",
  "name": "è®¡ç®—å­—æ®µ",
  "type": "formula",
  "formula": {
    "expression": "prop(\"other_property_id\")",
    "version": 2,
    "refProps": {
      "other_property_id": "å¼•ç”¨çš„å±æ€§å"
    }
  }
}
æ³¨æ„ï¼š Formulaå±æ€§ä¸»è¦æ”¯æŒè¯»å–ï¼Œåˆ›å»ºå’Œæ›´æ–°åŠŸèƒ½æœ‰ä¸€å®šé™åˆ¶ã€‚
ç³»ç»Ÿå±æ€§ç±»å‹
created_timeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰
{
  "id": "created_time",
  "name": "åˆ›å»ºæ—¶é—´",
  "type": "created_time",
  "created_time": {}
}
created_byï¼ˆåˆ›å»ºè€…ï¼‰
{
  "id": "created_by",
  "name": "åˆ›å»ºè€…",
  "type": "created_by",
  "created_by": {}
}
last_edited_timeï¼ˆæœ€åç¼–è¾‘æ—¶é—´ï¼‰
{
  "id": "last_edited_time",
  "name": "æœ€åç¼–è¾‘æ—¶é—´",
  "type": "last_edited_time",
  "last_edited_time": {}
}
last_edited_byï¼ˆæœ€åç¼–è¾‘è€…ï¼‰
{
  "id": "last_edited_by",
  "name": "æœ€åç¼–è¾‘è€…",
  "type": "last_edited_by",
  "last_edited_by": {}
}
API æ¥å£
1. åˆ›å»ºæ•°æ®åº“
åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ã€‚
POST /v1/databases
è¯·æ±‚ä½“
{
  "parent": {
    "type": "page_id",
    "page_id": "string"
  },
  "title": [
    {
      "type": "text",
      "text": {
        "content": "string"
      }
    }
  ],
  "icon": {
    "type": "emoji",
    "emoji": "string"
  },
  "cover": {
    "type": "external",
    "external": {
      "url": "string"
    }
  },
  "properties": {
    "property_id": {
      "id": "string",
      "name": "string",
      "type": "property_type"
    }
  },
  "is_inline": false
}
å‚æ•°è¯´æ˜
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
å“åº”
è¿”å›åˆ›å»ºçš„æ•°æ®åº“å¯¹è±¡ã€‚
ç¤ºä¾‹
{
  "parent": {
    "type": "page_id",
    "page_id": "123e4567-e89b-12d3-a456-426614174000"
  },
  "title": [
    {
      "type": "text",
      "text": {
        "content": "ä»»åŠ¡ç®¡ç†"
      }
    }
  ],
  "icon": {
    "type": "emoji",
    "emoji": "ğŸ“‹"
  },
  "properties": {
    "title": {
      "id": "title",
      "name": "ä»»åŠ¡åç§°",
      "type": "title"
    },
    "status": {
      "id": "status",
      "name": "çŠ¶æ€",
      "type": "select",
      "select": {
        "options": [
          {
            "name": "å¾…åŠ",
            "color": "red"
          },
          {
            "name": "è¿›è¡Œä¸­",
            "color": "yellow"
          },
          {
            "name": "å®Œæˆ",
            "color": "green"
          }
        ]
      }
    },
    "due_date": {
      "id": "due_date",
      "name": "æˆªæ­¢æ—¥æœŸ",
      "type": "date"
    }
  }
}
2. è·å–æ•°æ®åº“
è·å–æŒ‡å®šæ•°æ®åº“çš„ä¿¡æ¯ã€‚
GET /v1/databases/{database_id}
è·¯å¾„å‚æ•°
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
å“åº”
è¿”å›æ•°æ®åº“å¯¹è±¡ã€‚
3. æŸ¥è¯¢æ•°æ®åº“
æŸ¥è¯¢æ•°æ®åº“ä¸­çš„è®°å½•ï¼Œæ”¯æŒè¿‡æ»¤ã€æ’åºå’Œåˆ†é¡µã€‚
POST /v1/databases/{database_id}/query
è·¯å¾„å‚æ•°
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
è¯·æ±‚ä½“
{
  "start_cursor": "string",
  "page_size": 50
}
å‚æ•°è¯´æ˜
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
å“åº”
{
  "object": "list",
  "results": [
    {
      "object": "page",
      "id": "uuid",
      "created_time": "2024-01-01T00:00:00.000Z",
      "created_by": {
        "object": "user",
        "id": "uuid"
      },
      "last_edited_time": "2024-01-01T00:00:00.000Z",
      "last_edited_by": {
        "object": "user",
        "id": "uuid"
      },
      "archived": false,
      "properties": {
        "title": {
          "id": "title",
          "type": "title",
          "title": [
            {
              "type": "text",
              "text": {
                "content": "ä»»åŠ¡æ ‡é¢˜"
              }
            }
          ]
        }
      },
      "parent": {
        "type": "database_id",
        "database_id": "uuid"
      },
      "url": "https://api.flowus.cn/docs/xxx" // æ­£å¼ç¯å¢ƒ
    }
  ],
  "next_cursor": "string",
  "has_more": false,
  "type": "page",
  "page": {}
}
4. æ›´æ–°æ•°æ®åº“
æ›´æ–°æ•°æ®åº“çš„é…ç½®ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å›¾æ ‡ã€å°é¢ã€å±æ€§ç­‰ã€‚
PATCH /v1/databases/{database_id}
è·¯å¾„å‚æ•°
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
è¯·æ±‚ä½“
{
  "title": [
    {
      "type": "text",
      "text": {
        "content": "string"
      }
    }
  ],
  "icon": {
    "type": "emoji",
    "emoji": "string"
  },
  "cover": {
    "type": "external",
    "external": {
      "url": "string"
    }
  },
  "properties": {
    "property_id": {
      "id": "string",
      "name": "string",
      "type": "property_type"
    }
  },
  "archived": false
}
å‚æ•°è¯´æ˜
å‚æ•°
ç±»å‹
å¿…éœ€
è¯´æ˜
å“åº”
è¿”å›æ›´æ–°åçš„æ•°æ®åº“å¯¹è±¡ã€‚
ç¤ºä¾‹
æ›´æ–°æ ‡é¢˜å’Œå›¾æ ‡
{
  "title": [
    {
      "type": "text",
      "text": {
        "content": "æ›´æ–°åçš„æ•°æ®åº“æ ‡é¢˜"
      }
    }
  ],
  "icon": {
    "type": "external",
    "external": {
      "url": "https://example.com/new-icon.png"
    }
  }
}
æ·»åŠ æ–°å±æ€§
{
  "properties": {
    "assignee": {
      "id": "assignee",
      "name": "è´Ÿè´£äºº",
      "type": "people"
    },
    "estimated_hours": {
      "id": "estimated_hours",
      "name": "é¢„ä¼°å·¥æ—¶",
      "type": "number"
    }
  }
}
åˆ é™¤å±æ€§
{
  "properties": {
    "old_property": null
  }
}
å½’æ¡£æ•°æ®åº“
{
  "archived": true
}
æ•°æ®ç±»å‹æ”¯æŒ
Database API æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ï¼š
åŸºç¡€ç±»å‹ï¼šæ–‡æœ¬ã€æ•°å­—ã€å¤é€‰æ¡†ã€æ—¥æœŸã€é“¾æ¥ã€é‚®ç®±ã€ç”µè¯
é€‰æ‹©ç±»å‹ï¼šå•é€‰ã€å¤šé€‰
å…³è”ç±»å‹ï¼šäººå‘˜ã€æ–‡ä»¶ã€å…³è”ã€æ±‡æ€»ã€å…¬å¼
ç³»ç»Ÿç±»å‹ï¼šåˆ›å»ºæ—¶é—´ã€åˆ›å»ºè€…ã€æœ€åç¼–è¾‘æ—¶é—´ã€æœ€åç¼–è¾‘è€…
å„ç§æ•°æ®ç±»å‹çš„è¯¦ç»†æ ¼å¼å’Œä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒä¸Šè¿°å±æ€§ç±»å‹è¯´æ˜ã€‚
é”™è¯¯å¤„ç†
APIä½¿ç”¨æ ‡å‡†HTTPçŠ¶æ€ç è¿”å›é”™è¯¯ä¿¡æ¯ï¼š
â€‹â€‹â€‹â€‹400 Bad Requestâ€‹â€‹â€‹â€‹ï¼šè¯·æ±‚å‚æ•°é”™è¯¯
â€‹â€‹â€‹â€‹401 Unauthorizedâ€‹â€‹â€‹â€‹ï¼šè®¤è¯å¤±è´¥
â€‹â€‹â€‹â€‹403 Forbiddenâ€‹â€‹â€‹â€‹ï¼šæƒé™ä¸è¶³
â€‹â€‹â€‹â€‹404 Not Foundâ€‹â€‹â€‹â€‹ï¼šèµ„æºä¸å­˜åœ¨
â€‹â€‹â€‹â€‹500 Internal Server Errorâ€‹â€‹â€‹â€‹ï¼šæœåŠ¡å™¨é”™è¯¯
é”™è¯¯å“åº”æ ¼å¼ï¼š
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
}
ä½¿ç”¨é™åˆ¶
æ¯ä¸ªæ•°æ®åº“æœ€å¤šæ”¯æŒ100ä¸ªå±æ€§
æŸ¥è¯¢æ—¶æ¯é¡µæœ€å¤šè¿”å›100æ¡è®°å½•
å•é€‰å’Œå¤šé€‰å±æ€§çš„é€‰é¡¹æ•°é‡é™åˆ¶ä¸º100ä¸ª
æ•°æ®åº“æ ‡é¢˜æœ€é•¿ä¸º100ä¸ªå­—ç¬¦
Formulaå±æ€§ä¸»è¦æ”¯æŒè¯»å–ï¼Œåˆ›å»ºåŠŸèƒ½å¯èƒ½å—é™
æœ€ä½³å®è·µ
1
åˆ†é¡µæŸ¥è¯¢ï¼šå¯¹äºå¤§å‹æ•°æ®åº“ï¼Œå»ºè®®ä½¿ç”¨é€‚å½“çš„é¡µé¢å¤§å°è¿›è¡Œåˆ†é¡µæŸ¥è¯¢
2
è¿‡æ»¤ä¼˜åŒ–ï¼šåˆç†ä½¿ç”¨è¿‡æ»¤å™¨å‡å°‘è¿”å›çš„æ•°æ®é‡
3
å±æ€§è®¾è®¡ï¼šæ ¹æ®å®é™…éœ€æ±‚è®¾è®¡æ•°æ®åº“å±æ€§ï¼Œé¿å…å†—ä½™
4
æƒé™ç®¡ç†ï¼šç¡®ä¿æœºå™¨äººå…·æœ‰ç›¸åº”çš„è¯»å†™æƒé™
5
é”™è¯¯å¤„ç†ï¼šå®ç°é€‚å½“çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
6
æ•°æ®å¤„ç†ï¼šæ­£ç¡®ä½¿ç”¨å„ç§æ•°æ®ç±»å‹çš„æ ¼å¼è¦æ±‚
æµ‹è¯•å»ºè®®
1
éªŒè¯ç±»å‹è½¬æ¢ï¼šæµ‹è¯•å„ç§å±æ€§ç±»å‹çš„åˆ›å»ºå’ŒæŸ¥è¯¢
2
æ£€æŸ¥æ—¥æœŸæ ¼å¼ï¼šç¡®è®¤æ—¥æœŸæ—¶é—´çš„æ­£ç¡®æ ¼å¼
3
æµ‹è¯•æ–‡ä»¶ä¸Šä¼ ï¼šéªŒè¯æ–‡ä»¶çš„æ­£ç¡®å¤„ç†
4
å¤é€‰æ¡†åŠŸèƒ½ï¼šæµ‹è¯•true/falseå€¼çš„å¤„ç†
5
Formulaå±æ€§ï¼šéªŒè¯å¤æ‚å…¬å¼çš„è¯»å–å’Œæ˜¾ç¤º
6
äººå‘˜å±æ€§ï¼šæµ‹è¯•ç”¨æˆ·UUIDçš„æ­£ç¡®æ˜ å°„
ç¤ºä¾‹ç”¨ä¾‹
ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
åˆ›å»ºä¸€ä¸ªä»»åŠ¡ç®¡ç†æ•°æ®åº“ï¼š
{
  "parent": {
    "type": "page_id",
    "page_id": "workspace-page-id"
  },
  "title": [
    {
      "type": "text",
      "text": {
        "content": "ä»»åŠ¡ç®¡ç†"
      }
    }
  ],
  "icon": {
    "type": "emoji",
    "emoji": "âœ…"
  },
  "properties": {
    "name": {
      "id": "name",
      "name": "ä»»åŠ¡åç§°",
      "type": "title"
    },
    "status": {
      "id": "status",
      "name": "çŠ¶æ€",
      "type": "select",
      "select": {
        "options": [
          {"name": "å¾…åŠ", "color": "red"},
          {"name": "è¿›è¡Œä¸­", "color": "yellow"},
          {"name": "å®Œæˆ", "color": "green"}
        ]
      }
    },
    "assignee": {
      "id": "assignee",
      "name": "è´Ÿè´£äºº",
      "type": "people"
    },
    "due_date": {
      "id": "due_date",
      "name": "æˆªæ­¢æ—¥æœŸ",
      "type": "date"
    },
    "priority": {
      "id": "priority",
      "name": "ä¼˜å…ˆçº§",
      "type": "select",
      "select": {
        "options": [
          {"name": "ä½", "color": "green"},
          {"name": "ä¸­", "color": "yellow"},
          {"name": "é«˜", "color": "red"}
        ]
      }
    }
  }
}
å®¢æˆ·å…³ç³»ç®¡ç†
åˆ›å»ºä¸€ä¸ªCRMæ•°æ®åº“ï¼š
{
  "parent": {
    "type": "page_id",
    "page_id": "crm-page-id"
  },
  "title": [
    {
      "type": "text",
      "text": {
        "content": "å®¢æˆ·ç®¡ç†"
      }
    }
  ],
  "properties": {
    "company": {
      "id": "company",
      "name": "å…¬å¸åç§°",
      "type": "title"
    },
    "contact_person": {
      "id": "contact_person",
      "name": "è”ç³»äºº",
      "type": "rich_text"
    },
    "email": {
      "id": "email",
      "name": "é‚®ç®±",
      "type": "email"
    },
    "phone": {
      "id": "phone",
      "name": "ç”µè¯",
      "type": "phone_number"
    },
    "website": {
      "id": "website",
      "name": "ç½‘ç«™",
      "type": "url"
    },
    "industry": {
      "id": "industry",
      "name": "è¡Œä¸š",
      "type": "select",
      "select": {
        "options": [
          {"name": "ç§‘æŠ€", "color": "blue"},
          {"name": "é‡‘è", "color": "green"},
          {"name": "æ•™è‚²", "color": "yellow"},
          {"name": "åŒ»ç–—", "color": "red"}
        ]
      }
    },
    "deal_stage": {
      "id": "deal_stage",
      "name": "æˆäº¤é˜¶æ®µ",
      "type": "select",
      "select": {
        "options": [
          {"name": "æ½œåœ¨å®¢æˆ·", "color": "gray"},
          {"name": "åˆæ­¥æ¥è§¦", "color": "yellow"},
          {"name": "éœ€æ±‚ç¡®è®¤", "color": "orange"},
          {"name": "æ–¹æ¡ˆåˆ¶å®š", "color": "blue"},
          {"name": "åˆåŒè°ˆåˆ¤", "color": "purple"},
          {"name": "æˆäº¤", "color": "green"}
        ]
      }
    }
  }
}
æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“™
é¡µé¢å¤šç»´è¡¨å±æ€§
æ¦‚è¿°
Page Properties å®šä¹‰äº†é¡µé¢å’Œæ•°æ®åº“è®°å½•çš„å±æ€§æ ¼å¼ã€‚æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†ä¸åŒç±»å‹å±æ€§çš„æ•°æ®ç»“æ„ã€ä½¿ç”¨æ–¹æ³•å’Œæ ¼å¼è¦æ±‚ã€‚
é¡µé¢å±æ€§å¹¿æ³›åº”ç”¨äºï¼š
é¡µé¢æ ‡é¢˜ï¼šæ™®é€šé¡µé¢çš„æ ‡é¢˜å±æ€§
æ•°æ®åº“è®°å½•ï¼šå¤šç»´è¡¨ä¸­è®°å½•çš„å„ç§å±æ€§
é¡µé¢å…ƒæ•°æ®ï¼šå›¾æ ‡ã€å°é¢ã€åˆ›å»ºæ—¶é—´ç­‰
åŸºç¡€æ¦‚å¿µ
å±æ€§å¯¹è±¡ç»“æ„
æ¯ä¸ªå±æ€§å¯¹è±¡éƒ½åŒ…å«ä»¥ä¸‹åŸºæœ¬å­—æ®µï¼š
JSON
1
{
2
  "å±æ€§åç§°": {
3
    "id": "å±æ€§UUID",
4
    "type": "å±æ€§ç±»å‹",
5
    "å±æ€§ç±»å‹": "å±æ€§å€¼"
6
  }
7
}
å­—æ®µè¯´æ˜ï¼š
â€‹â€‹â€‹â€‹å±æ€§åç§°â€‹â€‹â€‹â€‹ï¼šç”¨æˆ·å¯è¯»çš„å±æ€§åç§°ï¼Œä½œä¸ºå¯¹è±¡çš„key
â€‹â€‹â€‹â€‹idâ€‹â€‹â€‹â€‹ï¼šå±æ€§çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰
â€‹â€‹â€‹â€‹typeâ€‹â€‹â€‹â€‹ï¼šå±æ€§ç±»å‹ï¼Œå®šä¹‰äº†æ•°æ®çš„æ ¼å¼å’Œè¡Œä¸º
â€‹â€‹â€‹â€‹å±æ€§ç±»å‹â€‹â€‹â€‹â€‹ï¼šä¸typeå­—æ®µç›¸åŒçš„keyï¼ŒåŒ…å«å®é™…çš„å±æ€§å€¼
æ”¯æŒçš„å±æ€§ç±»å‹
FlowUs æ”¯æŒ 15 ç§ä¸åŒçš„å±æ€§ç±»å‹ï¼Œæ¶µç›–äº†ä»åŸºç¡€æ•°æ®åˆ°å¤æ‚å…³è”çš„æ‰€æœ‰éœ€æ±‚ï¼š
åŸºç¡€å±æ€§ç±»å‹
â€‹â€‹â€‹â€‹titleâ€‹â€‹â€‹â€‹ - æ ‡é¢˜å±æ€§
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹ - å¯Œæ–‡æœ¬å±æ€§
â€‹â€‹â€‹â€‹numberâ€‹â€‹â€‹â€‹ - æ•°å­—å±æ€§
â€‹â€‹â€‹â€‹checkboxâ€‹â€‹â€‹â€‹ - å¤é€‰æ¡†å±æ€§
â€‹â€‹â€‹â€‹urlâ€‹â€‹â€‹â€‹ - é“¾æ¥å±æ€§
â€‹â€‹â€‹â€‹emailâ€‹â€‹â€‹â€‹ - é‚®ç®±å±æ€§
â€‹â€‹â€‹â€‹phone_numberâ€‹â€‹â€‹â€‹ - ç”µè¯å±æ€§
é€‰æ‹©å±æ€§ç±»å‹
â€‹â€‹â€‹â€‹selectâ€‹â€‹â€‹â€‹ - å•é€‰ä¸‹æ‹‰æ¡†
â€‹â€‹â€‹â€‹multi_selectâ€‹â€‹â€‹â€‹ - å¤šé€‰ä¸‹æ‹‰æ¡†
æ—¶é—´å’Œäººå‘˜å±æ€§
â€‹â€‹â€‹â€‹dateâ€‹â€‹â€‹â€‹ - æ—¥æœŸæ—¶é—´å±æ€§
â€‹â€‹â€‹â€‹peopleâ€‹â€‹â€‹â€‹ - äººå‘˜å±æ€§
æ–‡ä»¶å’Œå…³è”å±æ€§
â€‹â€‹â€‹â€‹filesâ€‹â€‹â€‹â€‹ - æ–‡ä»¶é™„ä»¶å±æ€§
â€‹â€‹â€‹â€‹relationâ€‹â€‹â€‹â€‹ - æ•°æ®åº“å…³è”å±æ€§
è®¡ç®—å±æ€§ç±»å‹ï¼ˆåªè¯»ï¼‰
â€‹â€‹â€‹â€‹formulaâ€‹â€‹â€‹â€‹ - å…¬å¼è®¡ç®—å±æ€§
1. æ ‡é¢˜å±æ€§ (title)
é¡µé¢å’Œæ•°æ®åº“è®°å½•çš„ä¸»æ ‡é¢˜ã€‚
APIæ ¼å¼ï¼š
{
  "æ ‡é¢˜": {
    "id": "title",
    "type": "title",
    "title": [
      {
        "type": "text",
        "text": {
          "content": "é¡µé¢æ ‡é¢˜å†…å®¹",
          "link": null
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "é¡µé¢æ ‡é¢˜å†…å®¹",
        "href": null
      }
    ]
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„ç®€åŒ–æ ¼å¼ï¼š
{
  "æ ‡é¢˜": {
    "type": "title",
    "title": [
      {
        "text": {
          "content": "é¡µé¢æ ‡é¢˜å†…å®¹"
        }
      }
    ]
  }
}
2. å¯Œæ–‡æœ¬å±æ€§ (rich_text)
æ”¯æŒæ ¼å¼åŒ–çš„æ–‡æœ¬å†…å®¹ã€‚
APIæ ¼å¼ï¼š
{
  "æè¿°": {
    "id": "property-uuid",
    "type": "rich_text",
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯ä¸€æ®µå¯Œæ–‡æœ¬",
          "link": null
        },
        "annotations": {
          "bold": true,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "blue"
        },
        "plain_text": "è¿™æ˜¯ä¸€æ®µå¯Œæ–‡æœ¬",
        "href": null
      }
    ]
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "æè¿°": {
    "type": "rich_text",
    "rich_text": [
      {
        "text": {
          "content": "è¿™æ˜¯ä¸€æ®µå¯Œæ–‡æœ¬"
        }
      }
    ]
  }
}
3. æ•°å­—å±æ€§ (number)
æ•°å€¼ç±»å‹çš„å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "ä»·æ ¼": {
    "id": "price-uuid",
    "type": "number",
    "number": 99.99
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "ä»·æ ¼": {
    "type": "number",
    "number": 99.99
  }
}
4. é€‰æ‹©å±æ€§ (select)
å•é€‰ä¸‹æ‹‰æ¡†å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "çŠ¶æ€": {
    "id": "status-uuid",
    "type": "select",
    "select": {
      "id": "option-uuid",
      "name": "è¿›è¡Œä¸­",
      "color": "yellow"
    }
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "çŠ¶æ€": {
    "type": "select",
    "select": {
      "name": "è¿›è¡Œä¸­"
    }
  }
}
5. å¤šé€‰å±æ€§ (multi_select)
å¤šé€‰ä¸‹æ‹‰æ¡†å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "æ ‡ç­¾": {
    "id": "tags-uuid",
    "type": "multi_select",
    "multi_select": [
      {
        "id": "tag1-uuid",
        "name": "é‡è¦",
        "color": "red"
      },
      {
        "id": "tag2-uuid",
        "name": "ç´§æ€¥",
        "color": "orange"
      }
    ]
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "æ ‡ç­¾": {
    "type": "multi_select",
    "multi_select": [
      {
        "name": "é‡è¦"
      },
      {
        "name": "ç´§æ€¥"
      }
    ]
  }
}
6. å¤é€‰æ¡†å±æ€§ (checkbox)
å¸ƒå°”å€¼å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "å®Œæˆ": {
    "id": "completed-uuid",
    "type": "checkbox",
    "checkbox": true
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "å®Œæˆ": {
    "type": "checkbox",
    "checkbox": true
  }
}
7. æ—¥æœŸå±æ€§ (date)
æ—¥æœŸå’Œæ—¶é—´å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "æˆªæ­¢æ—¥æœŸ": {
    "id": "due-date-uuid",
    "type": "date",
    "date": {
      "start": "2024-01-15T10:30:00",
      "end": "2024-01-16T18:00:00",
      "time_zone": null
    }
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "æˆªæ­¢æ—¥æœŸ": {
    "type": "date",
    "date": {
      "start": "2024-01-15T10:30:00",
      "end": "2024-01-16T18:00:00"
    }
  }
}
æ—¥æœŸæ ¼å¼è¯´æ˜ï¼š
â€‹â€‹â€‹â€‹startâ€‹â€‹â€‹â€‹ï¼šå¼€å§‹æ—¥æœŸæ—¶é—´ï¼ˆå¿…å¡«ï¼‰
â€‹â€‹â€‹â€‹endâ€‹â€‹â€‹â€‹ï¼šç»“æŸæ—¥æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
æ”¯æŒæ ¼å¼ï¼š
æ—¥æœŸï¼šâ€‹â€‹â€‹â€‹YYYY-MM-DDâ€‹â€‹â€‹â€‹
æ—¥æœŸæ—¶é—´ï¼šâ€‹â€‹â€‹â€‹YYYY-MM-DDTHH:MM:SSâ€‹â€‹â€‹â€‹
å¸¦æ—¶åŒºï¼šâ€‹â€‹â€‹â€‹YYYY-MM-DDTHH:MM:SS+08:00â€‹â€‹â€‹â€‹
8. äººå‘˜å±æ€§ (people)
ç”¨æˆ·å¼•ç”¨å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "è´Ÿè´£äºº": {
    "id": "assignee-uuid",
    "type": "people",
    "people": [
      {
        "object": "user",
        "id": "user-uuid"
      }
    ]
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "è´Ÿè´£äºº": {
    "type": "people",
    "people": [
      {
        "id": "user-uuid"
      }
    ]
  }
}
9. æ–‡ä»¶å±æ€§ (files)
æ–‡ä»¶é™„ä»¶å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "é™„ä»¶": {
    "id": "files-uuid",
    "type": "files",
    "files": [
      {
        "name": "æ–‡æ¡£.pdf",
        "type": "external",
        "external": {
          "url": "https://example.com/document.pdf"
        }
      },
      {
        "name": "å›¾ç‰‡.jpg",
        "type": "file",
        "file": {
          "url": "https://api.flowus.cn/oss/image.jpg",
          "expiry_time": "2024-01-15T10:30:00.000Z"
        }
      }
    ]
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "é™„ä»¶": {
    "type": "files",
    "files": [
      {
        "name": "æ–‡æ¡£.pdf",
        "external": {
          "url": "https://example.com/document.pdf"
        }
      }
    ]
  }
}
10. é“¾æ¥å±æ€§ (url)
URLé“¾æ¥å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "ç½‘ç«™": {
    "id": "url-uuid",
    "type": "url",
    "url": "https://example.com"
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "ç½‘ç«™": {
    "type": "url",
    "url": "https://example.com"
  }
}
11. é‚®ç®±å±æ€§ (email)
é‚®ç®±åœ°å€å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "è”ç³»é‚®ç®±": {
    "id": "email-uuid",
    "type": "email",
    "email": "contact@example.com"
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "è”ç³»é‚®ç®±": {
    "type": "email",
    "email": "contact@example.com"
  }
}
12. ç”µè¯å±æ€§ (phone_number)
ç”µè¯å·ç å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "è”ç³»ç”µè¯": {
    "id": "phone-uuid",
    "type": "phone_number",
    "phone_number": "+86 138-0013-8000"
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "è”ç³»ç”µè¯": {
    "type": "phone_number",
    "phone_number": "+86 138-0013-8000"
  }
}
13. å…³è”å±æ€§ (relation)
å…³è”åˆ°å…¶ä»–æ•°æ®åº“è®°å½•çš„å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "å…³è”é¡¹ç›®": {
    "id": "relation-uuid",
    "type": "relation",
    "relation": [
      {
        "id": "related-page-uuid-1"
      },
      {
        "id": "related-page-uuid-2"
      }
    ],
    "has_more": false
  }
}
åˆ›å»º/æ›´æ–°æ—¶çš„æ ¼å¼ï¼š
{
  "å…³è”é¡¹ç›®": {
    "type": "relation",
    "relation": [
      {
        "id": "related-page-uuid-1"
      },
      {
        "id": "related-page-uuid-2"
      }
    ]
  }
}
ç‰¹æ®Šè¯´æ˜ï¼š
â€‹â€‹â€‹â€‹relationâ€‹â€‹â€‹â€‹ æ•°ç»„åŒ…å«å…³è”çš„é¡µé¢ID
â€‹â€‹â€‹â€‹has_moreâ€‹â€‹â€‹â€‹ è¡¨ç¤ºæ˜¯å¦è¿˜æœ‰æ›´å¤šå…³è”é¡¹ï¼ˆåˆ†é¡µï¼‰
å…³è”çš„é¡µé¢å¿…é¡»åœ¨æŒ‡å®šçš„ç›®æ ‡æ•°æ®åº“ä¸­
åŒå‘å…³è”ä¼šè‡ªåŠ¨åœ¨ç›®æ ‡è®°å½•ä¸­åˆ›å»ºåå‘å…³è”
14. å…¬å¼å±æ€§ (formula)
åŸºäºå…¶ä»–å±æ€§è®¡ç®—å¾—å‡ºçš„åªè¯»å±æ€§ã€‚
APIæ ¼å¼ï¼š
{
  "æ€»ä»·": {
    "id": "formula-uuid",
    "type": "formula",
    "formula": {
      "type": "number",
      "number": 15000,
      "string": null
    }
  }
}
æ•°æ®åº“é…ç½®æ—¶çš„æ ¼å¼ï¼š
{
  "æ€»ä»·": {
    "type": "formula",
    "formula": {
      "expression": "prop(\"å•ä»·\") * prop(\"æ•°é‡\")",
      "version": 2,
      "refProps": {
        "å•ä»·": "price-property-uuid",
        "æ•°é‡": "quantity-property-uuid"
      }
    }
  }
}
ç‰¹æ®Šè¯´æ˜ï¼š
å…¬å¼å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹
â€‹â€‹â€‹â€‹formula.typeâ€‹â€‹â€‹â€‹ å¯èƒ½æ˜¯ â€‹â€‹â€‹â€‹numberâ€‹â€‹â€‹â€‹ã€â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹ã€â€‹â€‹â€‹â€‹booleanâ€‹â€‹â€‹â€‹ æˆ– â€‹â€‹â€‹â€‹dateâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹formula.expressionâ€‹â€‹â€‹â€‹ å®šä¹‰äº†è®¡ç®—è¡¨è¾¾å¼
â€‹â€‹â€‹â€‹refPropsâ€‹â€‹â€‹â€‹ åŒ…å«å…¬å¼ä¸­å¼•ç”¨çš„å…¶ä»–å±æ€§æ˜ å°„
è®¡ç®—ç»“æœæ ¹æ®å¼•ç”¨å±æ€§çš„å˜åŒ–è‡ªåŠ¨æ›´æ–°
å¸¸è§å…¬å¼è¡¨è¾¾å¼ï¼š
æ•°å­¦è¿ç®—ï¼šâ€‹â€‹â€‹â€‹prop("ä»·æ ¼") * prop("æ•°é‡")â€‹â€‹â€‹â€‹
å­—ç¬¦ä¸²è¿æ¥ï¼šâ€‹â€‹â€‹â€‹prop("å§“") + " " + prop("å")â€‹â€‹â€‹â€‹
æ¡ä»¶åˆ¤æ–­ï¼šâ€‹â€‹â€‹â€‹if(prop("å®Œæˆ"), "å·²å®Œæˆ", "æœªå®Œæˆ")â€‹â€‹â€‹â€‹
æ—¥æœŸè®¡ç®—ï¼šâ€‹â€‹â€‹â€‹dateBetween(prop("ç»“æŸæ—¥æœŸ"), prop("å¼€å§‹æ—¥æœŸ"), "days")â€‹â€‹â€‹â€‹
æ±‡æ€»å‡½æ•°ç±»å‹ï¼š
â€‹â€‹â€‹â€‹countâ€‹â€‹â€‹â€‹ - è®¡æ•°
â€‹â€‹â€‹â€‹count_valuesâ€‹â€‹â€‹â€‹ - éç©ºå€¼è®¡æ•°
â€‹â€‹â€‹â€‹emptyâ€‹â€‹â€‹â€‹ - ç©ºå€¼è®¡æ•°
â€‹â€‹â€‹â€‹not_emptyâ€‹â€‹â€‹â€‹ - éç©ºå€¼è®¡æ•°
â€‹â€‹â€‹â€‹sumâ€‹â€‹â€‹â€‹ - æ±‚å’Œ
â€‹â€‹â€‹â€‹averageâ€‹â€‹â€‹â€‹ - å¹³å‡å€¼
â€‹â€‹â€‹â€‹minâ€‹â€‹â€‹â€‹ - æœ€å°å€¼
â€‹â€‹â€‹â€‹maxâ€‹â€‹â€‹â€‹ - æœ€å¤§å€¼
â€‹â€‹â€‹â€‹rangeâ€‹â€‹â€‹â€‹ - èŒƒå›´ï¼ˆæœ€å¤§å€¼-æœ€å°å€¼ï¼‰
ç‰¹æ®Šè¯´æ˜ï¼š
æ±‡æ€»å±æ€§æ˜¯åªè¯»çš„ï¼ŒåŸºäºå…³è”è®°å½•è‡ªåŠ¨è®¡ç®—
â€‹â€‹â€‹â€‹relation_property_idâ€‹â€‹â€‹â€‹ æŒ‡å®šè¦æ±‡æ€»çš„å…³è”å±æ€§
â€‹â€‹â€‹â€‹rollup_property_idâ€‹â€‹â€‹â€‹ æŒ‡å®šå…³è”è®°å½•ä¸­è¦æ±‡æ€»çš„ç›®æ ‡å±æ€§
â€‹â€‹â€‹â€‹arrayâ€‹â€‹â€‹â€‹ åŒ…å«æ‰€æœ‰å‚ä¸æ±‡æ€»çš„åŸå§‹å€¼
ç³»ç»Ÿå±æ€§
ä»¥ä¸‹å±æ€§ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œåªè¯»ä¸å¯ä¿®æ”¹ï¼š
åˆ›å»ºæ—¶é—´ (created_time)
{
  "åˆ›å»ºæ—¶é—´": {
    "id": "created_time",
    "type": "created_time",
    "created_time": "2024-01-15T10:30:00.000Z"
  }
}
åˆ›å»ºè€… (created_by)
{
  "åˆ›å»ºè€…": {
    "id": "created_by",
    "type": "created_by",
    "created_by": {
      "object": "user",
      "id": "user-uuid"
    }
  }
}
æœ€åç¼–è¾‘æ—¶é—´ (last_edited_time)
{
  "æœ€åç¼–è¾‘æ—¶é—´": {
    "id": "last_edited_time",
    "type": "last_edited_time",
    "last_edited_time": "2024-01-15T10:35:00.000Z"
  }
}
æœ€åç¼–è¾‘è€… (last_edited_by)
{
  "æœ€åç¼–è¾‘è€…": {
    "id": "last_edited_by",
    "type": "last_edited_by",
    "last_edited_by": {
      "object": "user",
      "id": "user-uuid"
    }
  }
}
ä½¿ç”¨ç¤ºä¾‹
åˆ›å»ºé¡µé¢æ—¶è®¾ç½®å±æ€§
POST /v1/pages
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "parent": {
    "database_id": "database-uuid"
  },
  "properties": {
    "æ ‡é¢˜": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ–°é¡¹ç›®è®¡åˆ’"
          }
        }
      ]
    },
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "è®¡åˆ’ä¸­"
      }
    },
    "ä¼˜å…ˆçº§": {
      "type": "select",
      "select": {
        "name": "é«˜"
      }
    },
    "å®Œæˆ": {
      "type": "checkbox",
      "checkbox": false
    },
    "å¼€å§‹æ—¥æœŸ": {
      "type": "date",
      "date": {
        "start": "2024-01-15"
      }
    },
    "è´Ÿè´£äºº": {
      "type": "people",
      "people": [
        {
          "id": "user-uuid"
        }
      ]
    },
    "é¢„ç®—": {
      "type": "number",
      "number": 50000
    },
    "æè¿°": {
      "type": "rich_text",
      "rich_text": [
        {
          "text": {
            "content": "è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„é¡¹ç›®è®¡åˆ’"
          }
        }
      ]
    }
  }
}
æ›´æ–°é¡µé¢å±æ€§
PATCH /v1/pages/page-uuid
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "properties": {
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "è¿›è¡Œä¸­"
      }
    },
    "å®Œæˆ": {
      "type": "checkbox",
      "checkbox": true
    },
    "å®é™…é¢„ç®—": {
      "type": "number",
      "number": 45000
    }
  }
}
å¤æ‚å±æ€§ç¤ºä¾‹
{
  "properties": {
    "é¡¹ç›®æ ‡é¢˜": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "FlowUs API é›†æˆé¡¹ç›®"
          }
        }
      ]
    },
    "é¡¹ç›®æè¿°": {
      "type": "rich_text",
      "rich_text": [
        {
          "text": {
            "content": "å¼€å‘ FlowUs API é›†æˆåŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š"
          }
        },
        {
          "text": {
            "content": "\n1. é¡µé¢ç®¡ç†API"
          }
        },
        {
          "text": {
            "content": "\n2. æ•°æ®åº“æ“ä½œAPI"
          }
        },
        {
          "text": {
            "content": "\n3. æƒé™ç®¡ç†ç³»ç»Ÿ"
          }
        }
      ]
    },
    "é¡¹ç›®æ ‡ç­¾": {
      "type": "multi_select",
      "multi_select": [
        {
          "name": "APIå¼€å‘"
        },
        {
          "name": "åç«¯"
        },
        {
          "name": "é›†æˆ"
        }
      ]
    },
    "é¡¹ç›®æ—¶é—´": {
      "type": "date",
      "date": {
        "start": "2024-01-01T09:00:00",
        "end": "2024-03-31T18:00:00"
      }
    },
    "å›¢é˜Ÿæˆå‘˜": {
      "type": "people",
      "people": [
        {
          "id": "user1-uuid"
        },
        {
          "id": "user2-uuid"
        }
      ]
    },
         "é¡¹ç›®æ–‡æ¡£": {
       "type": "files",
       "files": [
         {
           "name": "APIè®¾è®¡æ–‡æ¡£.pdf",
           "external": {
             "url": "https://example.com/api-design.pdf"
           }
         },
         {
           "name": "æŠ€æœ¯è§„æ ¼ä¹¦.docx",
           "external": {
             "url": "https://example.com/tech-spec.docx"
           }
         }
       ]
     },
     "å…³è”å®¢æˆ·": {
       "type": "relation",
       "relation": [
         {
           "id": "customer-uuid-1"
         },
         {
           "id": "customer-uuid-2"
         }
       ]
     },
     "é¡¹ç›®è¿›åº¦": {
       "type": "formula",
       "formula": {
         "expression": "if(prop(\"å®Œæˆä»»åŠ¡æ•°\") > 0, prop(\"å®Œæˆä»»åŠ¡æ•°\") / prop(\"æ€»ä»»åŠ¡æ•°\") * 100, 0)"
       }
     }
  }
}
å±æ€§éªŒè¯è§„åˆ™
å¿…å¡«å±æ€§
title: åœ¨åˆ›å»ºé¡µé¢æ—¶ï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªtitleç±»å‹çš„å±æ€§
æ•°æ®åº“è®°å½•: å¿…é¡»ç¬¦åˆæ•°æ®åº“schemaä¸­å®šä¹‰çš„å±æ€§ç»“æ„
æ ¼å¼éªŒè¯
æ—¥æœŸæ ¼å¼: å¿…é¡»ç¬¦åˆISO 8601æ ‡å‡†
é‚®ç®±æ ¼å¼: å¿…é¡»æ˜¯æœ‰æ•ˆçš„é‚®ç®±åœ°å€æ ¼å¼
URLæ ¼å¼: å¿…é¡»æ˜¯æœ‰æ•ˆçš„HTTP/HTTPS URL
æ•°å­—èŒƒå›´: æ”¯æŒæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œç²¾åº¦æœ€å¤š15ä½
é•¿åº¦é™åˆ¶
æ–‡æœ¬å†…å®¹: å•ä¸ªå¯Œæ–‡æœ¬å—æœ€å¤§2000å­—ç¬¦
é€‰é¡¹åç§°: æœ€å¤§100å­—ç¬¦
URLé•¿åº¦: æœ€å¤§2000å­—ç¬¦
æ–‡ä»¶å: æœ€å¤§255å­—ç¬¦
æ³¨æ„äº‹é¡¹
å±æ€§åç§°æ˜ å°„
APIä½¿ç”¨ç”¨æˆ·å¯è¯»çš„å±æ€§åç§°ä½œä¸ºkey
å†…éƒ¨å­˜å‚¨ä½¿ç”¨UUIDä½œä¸ºå±æ€§æ ‡è¯†ç¬¦
åˆ›å»ºæ—¶åªéœ€æä¾›å±æ€§åç§°ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”ŸæˆUUID
æ•°æ®åº“å±æ€§çº¦æŸ
é¡µé¢å±æ€§å¿…é¡»ç¬¦åˆæ‰€å±æ•°æ®åº“çš„schemaå®šä¹‰
é€‰æ‹©ç±»å‹çš„å€¼å¿…é¡»æ˜¯æ•°æ®åº“ä¸­é¢„å®šä¹‰çš„é€‰é¡¹
å…³è”å±æ€§éœ€è¦å¼•ç”¨æœ‰æ•ˆçš„è®°å½•IDï¼Œä¸”ç›®æ ‡è®°å½•å¿…é¡»åœ¨æŒ‡å®šçš„æ•°æ®åº“ä¸­
å…¬å¼å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½é€šè¿‡APIç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½åœ¨æ•°æ®åº“schemaä¸­é…ç½®
æ±‡æ€»å±æ€§ä¾èµ–äºå…³è”å±æ€§ï¼Œéœ€è¦å…ˆå»ºç«‹æ­£ç¡®çš„å…³è”å…³ç³»
å…¬å¼å’Œæ±‡æ€»å±æ€§çš„è®¡ç®—ç»“æœä¼šéšç€å¼•ç”¨æ•°æ®çš„å˜åŒ–è‡ªåŠ¨æ›´æ–°
æ€§èƒ½å»ºè®®
æ‰¹é‡æ“ä½œæ—¶ï¼Œå»ºè®®æ¯æ¬¡æœ€å¤šæ›´æ–°50ä¸ªå±æ€§
å¤§å‹å¯Œæ–‡æœ¬å†…å®¹å»ºè®®åˆ†æ®µå¤„ç†
æ–‡ä»¶å±æ€§å»ºè®®ä½¿ç”¨å¤–éƒ¨é“¾æ¥è€Œéä¸Šä¼ 
é”™è¯¯å¤„ç†
å¸¸è§é”™è¯¯
â€‹â€‹â€‹â€‹400 Bad Requestâ€‹â€‹â€‹â€‹: å±æ€§æ ¼å¼ä¸æ­£ç¡®
â€‹â€‹â€‹â€‹403 Forbiddenâ€‹â€‹â€‹â€‹: æ²¡æœ‰ä¿®æ”¹å±æ€§çš„æƒé™
â€‹â€‹â€‹â€‹404 Not Foundâ€‹â€‹â€‹â€‹: å¼•ç”¨çš„å±æ€§æˆ–å…³è”å¯¹è±¡ä¸å­˜åœ¨
â€‹â€‹â€‹â€‹422 Unprocessable Entityâ€‹â€‹â€‹â€‹: å±æ€§å€¼ä¸ç¬¦åˆæ•°æ®åº“schema
é”™è¯¯ç¤ºä¾‹
é€‰æ‹©å±æ€§å€¼é”™è¯¯ï¼š
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "å±æ€§'çŠ¶æ€'çš„å€¼'æ— æ•ˆçŠ¶æ€'ä¸åœ¨å…è®¸çš„é€‰é¡¹åˆ—è¡¨ä¸­"
}
å…³è”å±æ€§é”™è¯¯ï¼š
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "å…³è”å±æ€§'å…³è”é¡¹ç›®'å¼•ç”¨çš„è®°å½• 'invalid-uuid' ä¸å­˜åœ¨äºç›®æ ‡æ•°æ®åº“ä¸­"
}
å°è¯•ä¿®æ”¹åªè¯»å±æ€§ï¼š
{
  "object": "error",
  "status": 400,
  "code": "read_only_property",
  "message": "å…¬å¼å±æ€§'æ€»ä»·'æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹"
}
å…¬å¼è¡¨è¾¾å¼é”™è¯¯ï¼š
{
  "object": "error", 
  "status": 400,
  "code": "formula_error",
  "message": "å…¬å¼è¡¨è¾¾å¼è¯­æ³•é”™è¯¯ï¼šæ— æ³•è§£æ 'prop(\"ä¸å­˜åœ¨çš„å±æ€§\")'"
}
ç›¸å…³æ–‡æ¡£
Pages API æ–‡æ¡£ - é¡µé¢æ“ä½œæ¥å£
Database API æ–‡æ¡£ - æ•°æ®åº“æ“ä½œæ¥å£
Block Objects æ–‡æ¡£ - å¯Œæ–‡æœ¬å¯¹è±¡è¯¦ç»†æ ¼å¼
æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“˜
é¡µé¢ API æ–‡æ¡£
æ¦‚è¿°
Pages API æä¾›äº†å®Œæ•´é¡µé¢ç®¡ç†èƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š
åˆ›å»ºé¡µé¢ï¼šåœ¨é¡µé¢æˆ–æ•°æ®åº“ä¸­åˆ›å»ºæ–°é¡µé¢
è·å–é¡µé¢ï¼šæ ¹æ®IDè·å–é¡µé¢è¯¦ç»†ä¿¡æ¯
æ›´æ–°é¡µé¢ï¼šä¿®æ”¹é¡µé¢å±æ€§ã€å›¾æ ‡ã€å°é¢ç­‰
è·å–é¡µé¢å­å—ï¼šè·å–é¡µé¢çš„å­å—åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œé€’å½’ï¼‰
æ”¯æŒåœ¨æ™®é€šé¡µé¢ä¸‹åˆ›å»ºå­é¡µé¢ï¼Œä¹Ÿæ”¯æŒåœ¨æ•°æ®åº“ä¸­åˆ›å»ºè®°å½•é¡µé¢ã€‚
åŸºç¡€ URL
æ­£å¼ç¯å¢ƒ
Plain Text
1
https://api.flowus.cn/v1
æµ‹è¯•ç¯å¢ƒ
https://api-test.allflow.cn/v1
è®¤è¯
æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ Authorization å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„æœºå™¨äººä»¤ç‰Œï¼š
Authorization: Bearer <bot_token>
API æ¥å£
1. åˆ›å»ºé¡µé¢
åˆ›å»ºæ–°çš„é¡µé¢ã€‚
è¯·æ±‚
POST /v1/pages
è¯·æ±‚ä½“
{
  "parent": {
    "page_id": "çˆ¶é¡µé¢ID",
    "database_id": "æ•°æ®åº“ID"
  },
  "icon": {
    "emoji": "ğŸ“„",
    "external": {
      "url": "å›¾æ ‡URL"
    }
  },
  "cover": {
    "external": {
      "url": "å°é¢URL"
    }
  },
  "properties": {
    "title": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    }
  }
}
å‚æ•°è¯´æ˜ï¼š
å‚æ•°
ç±»å‹
å¿…å¡«
æè¿°
é»˜è®¤çˆ¶çº§ï¼š å½“ä¸æŒ‡å®š â€‹â€‹â€‹â€‹parentâ€‹â€‹â€‹â€‹ æ—¶ï¼Œé¡µé¢å°†åˆ›å»ºåœ¨é»˜è®¤ä½ç½®ï¼Œæ‚¨å¯ä»¥åœ¨å·¥ä½œåŒºä¸­æ‰¾åˆ°å¹¶ç®¡ç†è¿™äº›é¡µé¢ã€‚
å®¹é”™æœºåˆ¶ï¼š å½“æŒ‡å®šçš„ â€‹â€‹â€‹â€‹parent.page_idâ€‹â€‹â€‹â€‹ æˆ– â€‹â€‹â€‹â€‹parent.database_idâ€‹â€‹â€‹â€‹ ä¸å­˜åœ¨æ—¶ï¼ŒAPIä¼šä½¿ç”¨é»˜è®¤ä½ç½®åˆ›å»ºé¡µé¢ï¼Œç¡®ä¿åˆ›å»ºæ“ä½œèƒ½å¤ŸæˆåŠŸå®Œæˆã€‚
å“åº”
{
  "object": "page",
  "id": "é¡µé¢ID",
  "created_time": "2023-12-01T10:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "ç”¨æˆ·ID"
  },
  "last_edited_time": "2023-12-01T10:00:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "ç”¨æˆ·ID"
  },
  "archived": false,
  "properties": {
    "title": {
      "id": "title",
      "type": "title",
      "title": [
        {
          "type": "text",
          "text": {
            "content": "é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    }
  },
  "parent": {
    "type": "page_id",
    "page_id": "çˆ¶é¡µé¢ID"
  },
  "url": "https://api.flowus.cn/docs/é¡µé¢ID" // æ­£å¼ç¯å¢ƒ
}
2. è·å–é¡µé¢
æ ¹æ®é¡µé¢IDè·å–é¡µé¢è¯¦ç»†ä¿¡æ¯ã€‚
è¯·æ±‚
GET /v1/pages/{page_id}
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹page_idâ€‹â€‹â€‹â€‹: é¡µé¢ID
å“åº”
{
  "object": "page",
  "id": "é¡µé¢ID",
  "created_time": "2023-12-01T10:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "åˆ›å»ºè€…ID"
  },
  "last_edited_time": "2023-12-01T10:00:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "ç¼–è¾‘è€…ID"
  },
  "archived": false,
  "properties": {
    "title": {
      "id": "title",
      "type": "title",
      "title": [
        {
          "type": "text",
          "text": {
            "content": "é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    },
    "æè¿°": {
      "id": "property-uuid",
      "type": "rich_text",
      "rich_text": [
        {
          "type": "text",
          "text": {
            "content": "é¡µé¢æè¿°å†…å®¹"
          }
        }
      ]
    }
  },
  "parent": {
    "type": "page_id",
    "page_id": "çˆ¶é¡µé¢ID"
  },
  "url": "https://api.flowus.cn/docs/é¡µé¢ID",
  "icon": {
    "type": "emoji",
    "emoji": "ğŸ“"
  },
  "cover": {
    "type": "external",
    "external": {
      "url": "https://example.com/cover.jpg"
    }
  }
}
3. æ›´æ–°é¡µé¢
æ›´æ–°é¡µé¢çš„å±æ€§ã€å›¾æ ‡ã€å°é¢æˆ–å½’æ¡£çŠ¶æ€ã€‚
è¯·æ±‚
PATCH /v1/pages/{page_id}
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹page_idâ€‹â€‹â€‹â€‹: é¡µé¢ID
è¯·æ±‚ä½“
{
  "properties": {
    "title": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ›´æ–°åçš„æ ‡é¢˜"
          }
        }
      ]
    },
    "æè¿°": {
      "type": "rich_text",
      "rich_text": [
        {
          "text": {
            "content": "æ›´æ–°åçš„æè¿°"
          }
        }
      ]
    },
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "å·²å®Œæˆ"
      }
    }
  },
  "icon": {
    "emoji": "âœ…"
  },
  "cover": {
    "external": {
      "url": "https://example.com/new-cover.jpg"
    }
  },
  "archived": false
}
å“åº”
{
  "object": "page",
  "id": "é¡µé¢ID",
  "created_time": "2023-12-01T10:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "åˆ›å»ºè€…ID"
  },
  "last_edited_time": "2023-12-01T10:30:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "ç¼–è¾‘è€…ID"
  },
  "archived": false,
  "properties": {
    // æ›´æ–°åçš„å±æ€§
  },
  "parent": {
    "type": "page_id",
    "page_id": "çˆ¶é¡µé¢ID"
  },
  "url": "https://api.flowus.cn/docs/é¡µé¢ID",
  "icon": {
    "type": "emoji",
    "emoji": "âœ…"
  },
  "cover": {
    "type": "external",
    "external": {
      "url": "https://example.com/new-cover.jpg"
    }
  }
}
4. è·å–é¡µé¢å­å—
è·å–æŒ‡å®šé¡µé¢çš„å­å—åˆ—è¡¨ã€‚
è¯·æ±‚
GET /v1/blocks/{pageId}/children
é‡è¦è¯´æ˜ï¼š é¡µé¢åœ¨ FlowUs ä¸­æ˜¯ç‰¹æ®Šçš„å—å¯¹è±¡ï¼Œå› æ­¤ä½¿ç”¨ Blocks API çš„å­å—è·å–æ¥å£ã€‚
æŸ¥è¯¢å‚æ•°
â€‹â€‹â€‹â€‹page_sizeâ€‹â€‹â€‹â€‹ (å¯é€‰): æ¯é¡µè¿”å›çš„å—æ•°é‡ï¼Œæœ€å¤§100ï¼Œé»˜è®¤50
â€‹â€‹â€‹â€‹start_cursorâ€‹â€‹â€‹â€‹ (å¯é€‰): åˆ†é¡µæ¸¸æ ‡ï¼Œä½¿ç”¨å­å—çš„IDä½œä¸ºæ¸¸æ ‡å€¼
â€‹â€‹â€‹â€‹recursiveâ€‹â€‹â€‹â€‹ (å¯é€‰): æ˜¯å¦é€’å½’è·å–æ‰€æœ‰å­å—ï¼Œâ€‹â€‹â€‹â€‹trueâ€‹â€‹â€‹â€‹æˆ–â€‹â€‹â€‹â€‹falseâ€‹â€‹â€‹â€‹ï¼Œé»˜è®¤â€‹â€‹â€‹â€‹falseâ€‹â€‹â€‹â€‹
å“åº”
{
  "object": "list",
  "results": [
    {
      "object": "block",
      "id": "å—ID",
      "created_time": "2023-12-01T10:00:00.000Z",
      "created_by": {
        "object": "user",
        "id": "ç”¨æˆ·ID"
      },
      "last_edited_time": "2023-12-01T10:00:00.000Z",
      "last_edited_by": {
        "object": "user",
        "id": "ç”¨æˆ·ID"
      },
      "archived": false,
      "has_children": true,
      "type": "paragraph",
      "paragraph": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "æ–‡æœ¬å†…å®¹",
              "link": null
            },
            "annotations": {
              "bold": false,
              "italic": false,
              "strikethrough": false,
              "underline": false,
              "code": false,
              "color": "default"
            },
            "plain_text": "æ–‡æœ¬å†…å®¹",
            "href": null
          }
        ],
        "color": "default"
      }
    }
  ],
  "next_cursor": "abc-123-def-456",
  "has_more": true,
  "type": "block",
  "block": {},
  "page": {
    "id": "é¡µé¢ID",
    "title": "é¡µé¢æ ‡é¢˜"
  },
  "total_count": null,
  "pagination_info": {
    "current_page": 1,
    "total_pages": 5,
    "total_items": 125
  }
}
é¡µé¢å±æ€§æ ¼å¼
é¡µé¢å±æ€§å®šä¹‰äº†é¡µé¢å’Œæ•°æ®åº“è®°å½•çš„æ‰€æœ‰å±æ€§ç±»å‹å’Œæ ¼å¼ã€‚è¯¦ç»†çš„å±æ€§ç»“æ„ã€æ•°æ®ç±»å‹ã€ä½¿ç”¨æ–¹æ³•ç­‰ä¿¡æ¯ï¼Œè¯·å‚è€ƒï¼š
â€‹â€‹ğŸ“–â€‹â€‹ Page Properties æ–‡æ¡£
è¯¥æ–‡æ¡£åŒ…å«äº†å®Œæ•´çš„å±æ€§è§„èŒƒï¼š
åŸºç¡€å±æ€§ - titleã€rich_textã€numberã€checkboxç­‰
é€‰æ‹©å±æ€§ - selectã€multi_selectç­‰ä¸‹æ‹‰æ¡†ç±»å‹
å…³è”å±æ€§ - peopleã€filesã€dateç­‰å¤æ‚ç±»å‹
ç³»ç»Ÿå±æ€§ - created_timeã€created_byç­‰åªè¯»å±æ€§
æ ¼å¼è¦æ±‚ - å„ç§å±æ€§ç±»å‹çš„æ•°æ®æ ¼å¼å’ŒéªŒè¯è§„åˆ™
ä½¿ç”¨ç¤ºä¾‹ - åˆ›å»ºå’Œæ›´æ–°å±æ€§çš„å®Œæ•´ç¤ºä¾‹
å¯Œæ–‡æœ¬å¯¹è±¡æ ¼å¼
API è¿”å›çš„å¯Œæ–‡æœ¬å¯¹è±¡éµå¾ªç»Ÿä¸€çš„æ ¼å¼è§„èŒƒã€‚è¯¦ç»†çš„å¯Œæ–‡æœ¬å¯¹è±¡ç»“æ„ã€æ”¯æŒçš„å—ç±»å‹ã€é¢œè‰²å®šä¹‰ç­‰ä¿¡æ¯ï¼Œè¯·å‚è€ƒï¼š
â€‹â€‹ğŸ“–â€‹â€‹ Block å¯¹è±¡å®ä½“æ–‡æ¡£
è¯¥æ–‡æ¡£åŒ…å«äº†å®Œæ•´çš„è§„èŒƒè¯´æ˜ï¼š
å¯Œæ–‡æœ¬ (RichText) - æ–‡æœ¬ã€æåŠã€å…¬å¼ç­‰ç±»å‹çš„è¯¦ç»†æ ¼å¼
æ³¨è§£ (Annotations) - ç²—ä½“ã€æ–œä½“ã€é¢œè‰²ç­‰æ ¼å¼åŒ–é€‰é¡¹
æ”¯æŒçš„å—ç±»å‹ - æ‰€æœ‰å¯ç”¨çš„å—ç±»å‹åŠå…¶å±æ€§
é¢œè‰²å®šä¹‰ - å®Œæ•´çš„é¢œè‰²å€¼åˆ—è¡¨
å›¾æ ‡æ ¼å¼ - Emojiã€æ–‡ä»¶ã€å¤–éƒ¨é“¾æ¥å›¾æ ‡
æ—¥æœŸæ ¼å¼ - å„ç§æ—¥æœŸæ—¶é—´æ ¼å¼çš„æ”¯æŒ
ä½¿ç”¨ç¤ºä¾‹
è·å–é¡µé¢çš„ç›´æ¥å­å—ï¼ˆæ¸¸æ ‡åˆ†é¡µ - æ¨èï¼‰
æ³¨æ„ï¼š é¡µé¢åœ¨ FlowUs ä¸­ä¹Ÿæ˜¯ä¸€ç§å—å¯¹è±¡ï¼Œå› æ­¤è·å–é¡µé¢çš„å­å—éœ€è¦ä½¿ç”¨ Blocks APIã€‚
# ç¬¬ä¸€é¡µ
GET /v1/blocks/abc123/children?page_size=10
Authorization: Bearer your_bot_token

# ä½¿ç”¨è¿”å›çš„ next_cursor è·å–ä¸‹ä¸€é¡µ
GET /v1/blocks/abc123/children?page_size=10&start_cursor=abc-123-def-456
Authorization: Bearer your_bot_token
API å‚è€ƒï¼š è¯¦ç»†çš„å­å—è·å–è¯´æ˜è¯·å‚è€ƒ Blocks API æ–‡æ¡£ã€‚
åˆ›å»ºæ–°é¡µé¢
POST /v1/pages
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "parent": {
    "page_id": "parent-page-id"
  },
  "properties": {
    "title": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ–°é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    }
  }
}
åˆ›å»ºé¡µé¢ï¼ˆæ— éœ€æŒ‡å®šçˆ¶çº§ï¼‰
åˆ›å»ºé¡µé¢æ—¶å¯ä»¥ä¸æŒ‡å®šçˆ¶çº§ï¼Œé¡µé¢å°†åˆ›å»ºåœ¨é»˜è®¤ä½ç½®ï¼š
POST /v1/pages
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "properties": {
    "title": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "ç”Ÿæˆçš„ä¼šè®®çºªè¦"
          }
        }
      ]
    },
    "å†…å®¹": {
      "type": "rich_text",
      "rich_text": [
        {
          "text": {
            "content": "ç”Ÿæˆçš„å†…å®¹"
          }
        }
      ]
    }
  },
  "icon": {
    "emoji": "ğŸ¤–"
  }
}
è·å–é¡µé¢è¯¦æƒ…
GET /v1/pages/abc123
Authorization: Bearer your_bot_token
æ›´æ–°é¡µé¢
PATCH /v1/pages/abc123
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "properties": {
    "title": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ›´æ–°åçš„é¡µé¢æ ‡é¢˜"
          }
        }
      ]
    },
    "æè¿°": {
      "type": "rich_text",
      "rich_text": [
        {
          "text": {
            "content": "è¿™æ˜¯æ›´æ–°åçš„é¡µé¢æè¿°"
          }
        }
      ]
    }
  },
  "icon": {
    "emoji": "âœ…"
  },
  "archived": false
}
åˆ›å»ºæ•°æ®åº“é¡µé¢
åœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ–°é¡µé¢ï¼ˆè®°å½•ï¼‰ï¼š
POST /v1/pages
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "parent": {
    "database_id": "database-uuid"
  },
  "properties": {
    "æ ‡é¢˜": {
      "type": "title",
      "title": [
        {
          "text": {
            "content": "æ–°ä»»åŠ¡"
          }
        }
      ]
    },
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "è¿›è¡Œä¸­"
      }
    },
    "ä¼˜å…ˆçº§": {
      "type": "select",
      "select": {
        "name": "é«˜"
      }
    },
    "å®Œæˆ": {
      "type": "checkbox",
      "checkbox": false
    },
    "æˆªæ­¢æ—¥æœŸ": {
      "type": "date",
      "date": {
        "start": "2024-01-15"
      }
    }
  }
}
æ‰¹é‡æ›´æ–°é¡µé¢å±æ€§
PATCH /v1/pages/abc123
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "properties": {
    "çŠ¶æ€": {
      "type": "select",
      "select": {
        "name": "å·²å®Œæˆ"
      }
    },
    "å®Œæˆ": {
      "type": "checkbox",
      "checkbox": true
    },
    "å®Œæˆæ—¶é—´": {
      "type": "date",
      "date": {
        "start": "2024-01-10T14:30:00"
      }
    }
  },
  "archived": false
}
åŸºäº subNodes çš„åˆ†é¡µæœºåˆ¶
FlowUs ä½¿ç”¨åŸºäºçˆ¶å— â€‹â€‹â€‹â€‹subNodesâ€‹â€‹â€‹â€‹ å­—æ®µçš„åˆ†é¡µæœºåˆ¶ï¼Œä¿æŒç”¨æˆ·è®¾ç½®çš„å—é¡ºåºï¼š
æ¸¸æ ‡æ ¼å¼
start_cursor = "block_id"
ä¾‹å¦‚: "abc-123-def-456"
å·¥ä½œåŸç†
1
ä¿æŒç”¨æˆ·æ’åº: ä¸¥æ ¼æŒ‰ç…§çˆ¶å— â€‹â€‹â€‹â€‹subNodesâ€‹â€‹â€‹â€‹ å­—æ®µä¸­çš„é¡ºåºè¿”å›å­å—
2
ç®€å•æ¸¸æ ‡: ä½¿ç”¨å­å—IDä½œä¸ºæ¸¸æ ‡ï¼Œç®€å•æ˜“ç”¨
3
é«˜æ•ˆæŸ¥è¯¢: åŸºäºæ•°ç»„ç´¢å¼•è¿›è¡Œåˆ†é¡µï¼Œæ€§èƒ½ä¼˜å¼‚
4
é¡ºåºä¸€è‡´: ç¡®ä¿è¿”å›çš„å­å—é¡ºåºä¸ç”¨æˆ·åœ¨ç•Œé¢ä¸­çœ‹åˆ°çš„ä¸€è‡´
åˆ†é¡µé€»è¾‘
1
ä»çˆ¶å—çš„ â€‹â€‹â€‹â€‹subNodesâ€‹â€‹â€‹â€‹ æ•°ç»„ä¸­è·å–å­å—IDåˆ—è¡¨
2
æ ¹æ® â€‹â€‹â€‹â€‹start_cursorâ€‹â€‹â€‹â€‹ åœ¨æ•°ç»„ä¸­æ‰¾åˆ°èµ·å§‹ä½ç½®
3
ä½¿ç”¨æ•°ç»„åˆ‡ç‰‡è·å–å½“å‰é¡µçš„å­å—ID
4
æ‰¹é‡æŸ¥è¯¢å­å—è¯¦ç»†ä¿¡æ¯å¹¶è¿‡æ»¤æƒé™
5
è¿”å›ç»“æœå’Œä¸‹ä¸€é¡µæ¸¸æ ‡
åˆ†é¡µç‰¹æ€§
ç›´æ¥å­å—æŸ¥è¯¢ï¼ˆéé€’å½’ï¼‰
åŸºäº subNodes: ä½¿ç”¨çˆ¶å—çš„ â€‹â€‹â€‹â€‹subNodesâ€‹â€‹â€‹â€‹ å­—æ®µè¿›è¡Œåˆ†é¡µ
ä¼˜åŠ¿:
ä¿æŒç”¨æˆ·è®¾ç½®çš„å—é¡ºåº
é«˜æ•ˆçš„æ•°ç»„ç´¢å¼•æ“ä½œ
ç®€å•ç›´è§‚çš„å—IDæ¸¸æ ‡
å³ä½¿æœ‰æ–°æ•°æ®æ’å…¥ä¹Ÿä¿æŒé¡ºåºä¸€è‡´æ€§
é€’å½’å­å—æŸ¥è¯¢
åç§»åˆ†é¡µ: ä½¿ç”¨åç§»é‡è¿›è¡Œåˆ†é¡µ
åŒ…å«æ€»æ•°: è¿”å›å‡†ç¡®çš„åˆ†é¡µä¿¡æ¯
é€’å½’æ·±åº¦é™åˆ¶: æœ€å¤§50å±‚ï¼Œé˜²æ­¢æ— é™é€’å½’
ä½¿ç”¨å»ºè®®
1
ä¼˜å…ˆä½¿ç”¨éé€’å½’æ¨¡å¼ï¼šé€‚åˆå¤§éƒ¨åˆ†åœºæ™¯ï¼Œä¿æŒç”¨æˆ·æ’åº
2
åˆç†è®¾ç½®é¡µé¢å¤§å°ï¼šå»ºè®®20-50æ¡ï¼Œæœ€å¤§ä¸è¶…è¿‡100æ¡
3
ä½¿ç”¨ç®€å•æ¸¸æ ‡ï¼šåŸºäºå—IDçš„æ¸¸æ ‡æ›´ç›´è§‚æ˜“ç”¨
é”™è¯¯å¤„ç†
API ä¼šè¿”å›æ ‡å‡†çš„HTTPçŠ¶æ€ç å’Œé”™è¯¯ä¿¡æ¯ï¼š
å¸¸è§é”™è¯¯ç 
â€‹â€‹â€‹â€‹400 Bad Requestâ€‹â€‹â€‹â€‹: è¯·æ±‚å‚æ•°é”™è¯¯
ç¼ºå°‘å¿…éœ€çš„ â€‹â€‹â€‹â€‹parentâ€‹â€‹â€‹â€‹ å‚æ•°
â€‹â€‹â€‹â€‹propertiesâ€‹â€‹â€‹â€‹ æ ¼å¼ä¸æ­£ç¡®
å›¾æ ‡æˆ–å°é¢URLæ ¼å¼æ— æ•ˆ
çˆ¶çº§ç±»å‹ä¸å±æ€§ä¸åŒ¹é…ï¼ˆå¦‚åœ¨æ™®é€šé¡µé¢ä¸­ä½¿ç”¨æ•°æ®åº“å±æ€§ï¼‰
â€‹â€‹â€‹â€‹401 Unauthorizedâ€‹â€‹â€‹â€‹: è®¤è¯å¤±è´¥
ç¼ºå°‘ â€‹â€‹â€‹â€‹Authorizationâ€‹â€‹â€‹â€‹ å¤´
Tokenæ ¼å¼é”™è¯¯æˆ–å·²è¿‡æœŸ
æœºå™¨äººTokenæ— æ•ˆ
â€‹â€‹â€‹â€‹403 Forbiddenâ€‹â€‹â€‹â€‹: æƒé™ä¸è¶³
æœºå™¨äººç¼ºå°‘æ‰€éœ€èƒ½åŠ›ï¼ˆå¦‚ â€‹â€‹â€‹â€‹insertContentâ€‹â€‹â€‹â€‹ã€â€‹â€‹â€‹â€‹updateContentâ€‹â€‹â€‹â€‹ï¼‰
æœºå™¨äººæ²¡æœ‰è®¿é—®ç›®æ ‡é¡µé¢çš„æƒé™
å°è¯•æ“ä½œæœªæˆæƒçš„é¡µé¢æˆ–æ•°æ®åº“
â€‹â€‹â€‹â€‹404 Not Foundâ€‹â€‹â€‹â€‹: èµ„æºä¸å­˜åœ¨
é¡µé¢IDä¸å­˜åœ¨
çˆ¶çº§é¡µé¢æˆ–æ•°æ®åº“ä¸å­˜åœ¨ï¼ˆå®¹é”™ï¼šAPIä¼šä½¿ç”¨é»˜è®¤ä½ç½®åˆ›å»ºé¡µé¢ï¼‰
å¼•ç”¨çš„å±æ€§æˆ–å…³ç³»å¯¹è±¡ä¸å­˜åœ¨
â€‹â€‹â€‹â€‹500 Internal Server Errorâ€‹â€‹â€‹â€‹: æœåŠ¡å™¨é”™è¯¯
é¡µé¢åˆ›å»ºæˆ–æ›´æ–°å¤±è´¥
æ“ä½œæ‰§è¡Œå¤±è´¥
æƒé™éªŒè¯å¤±è´¥
é”™è¯¯å“åº”æ ¼å¼
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥ï¼šç¼ºå°‘å¿…éœ€çš„parentå‚æ•°"
}
ç‰¹å®šåœºæ™¯é”™è¯¯ç¤ºä¾‹
åˆ›å»ºé¡µé¢é”™è¯¯
// ç¼ºå°‘parentå‚æ•°
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "å¿…é¡»æŒ‡å®šparent.database_idæˆ–parent.page_id"
}

// æœºå™¨äººèƒ½åŠ›ä¸è¶³
{
  "object": "error",
  "status": 403,
  "code": "forbidden",
  "message": "æœºå™¨äººç¼ºå°‘insertContentèƒ½åŠ›"
}
è·å–é¡µé¢é”™è¯¯
// é¡µé¢ä¸å­˜åœ¨
{
  "object": "error",
  "status": 404,
  "code": "not_found",
  "message": "é¡µé¢ä¸å­˜åœ¨"
}

// æƒé™ä¸è¶³
{
  "object": "error",
  "status": 403,
  "code": "forbidden",
  "message": "æœºå™¨äººæ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™"
}
æ›´æ–°é¡µé¢é”™è¯¯
// å±æ€§ç±»å‹ä¸åŒ¹é…
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "å±æ€§ç±»å‹ä¸åŒ¹é…ï¼šæœŸå¾…titleç±»å‹ï¼Œæ”¶åˆ°textç±»å‹"
}

// æœºå™¨äººèƒ½åŠ›ä¸è¶³
{
  "object": "error",
  "status": 403,
  "code": "forbidden",
  "message": "æœºå™¨äººç¼ºå°‘updateContentèƒ½åŠ›"
}
æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“—
å—å¯¹è±¡å®ä½“
æ¦‚è¿°
æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº† FlowUs Blocks API ä¸­æ‰€æœ‰å—ç±»å‹çš„å¯¹è±¡ç»“æ„ã€å±æ€§å®šä¹‰å’Œæ•°æ®æ ¼å¼ã€‚æ¯ä¸ªå—å¯¹è±¡éƒ½åŒ…å«é€šç”¨å±æ€§å’Œç‰¹å®šäºå—ç±»å‹çš„å±æ€§ã€‚
é€šç”¨å—å¯¹è±¡ç»“æ„
æ‰€æœ‰å—å¯¹è±¡éƒ½åŒ…å«ä»¥ä¸‹é€šç”¨å±æ€§ï¼š
JSON
1
{
2
  "object": "block",
3
  "id": "string",
4
  "parent": {
5
    "type": "block_id" | "page_id" | "workspace",
6
    "block_id"?: "string",
7
    "page_id"?: "string"
8
  },
9
  "created_time": "string (ISO 8601)",
10
  "created_by": {
11
    "object": "user",
12
    "id": "string"
13
  },
14
  "last_edited_time": "string (ISO 8601)",
15
  "last_edited_by": {
16
    "object": "user", 
17
    "id": "string"
18
  },
19
  "archived": "boolean",
20
  "has_children": "boolean",
21
  "type": "string",
22
  "data": {
23
    // ç‰¹å®šäºå—ç±»å‹çš„å±æ€§
24
  }
25
}
é€šç”¨å±æ€§è¯´æ˜
å±æ€§
ç±»å‹
æè¿°
â€‹â€‹â€‹â€‹objectâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
å›ºå®šå€¼ â€‹â€‹â€‹â€‹"block"â€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹idâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
å—çš„å”¯ä¸€æ ‡è¯†ç¬¦ (UUID)
â€‹â€‹â€‹â€‹parentâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹objectâ€‹â€‹â€‹â€‹
çˆ¶çº§å¯¹è±¡ä¿¡æ¯
â€‹â€‹â€‹â€‹created_timeâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
åˆ›å»ºæ—¶é—´ (ISO 8601 æ ¼å¼)
â€‹â€‹â€‹â€‹created_byâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹objectâ€‹â€‹â€‹â€‹
åˆ›å»ºè€…ä¿¡æ¯
â€‹â€‹â€‹â€‹last_edited_timeâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
æœ€åç¼–è¾‘æ—¶é—´ (ISO 8601 æ ¼å¼)
çˆ¶çº§å¯¹è±¡ (Parent Object)
type Parent = {
  type: "block_id";
  block_id: string;
} | {
  type: "page_id";
  page_id: string;
} | {
  type: "workspace";
}
ç”¨æˆ·å¯¹è±¡ (User Object)
{
  "object": "user",
  "id": "string"
}
æ–‡æœ¬å—ç±»å‹
æ®µè½ (Paragraph)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹paragraphâ€‹â€‹â€‹â€‹
{
  "type": "paragraph",
  "data": {
    "rich_text": "RichText[]",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: å¯Œæ–‡æœ¬å†…å®¹æ•°ç»„
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
æ ‡é¢˜ (Heading)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹heading_1â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹heading_2â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹heading_3â€‹â€‹â€‹â€‹
{
  "type": "heading_1",
  "data": {
    "rich_text": "RichText[]",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: æ ‡é¢˜æ–‡æœ¬å†…å®¹
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
ç±»å‹åŒºåˆ«:
â€‹â€‹â€‹â€‹heading_1â€‹â€‹â€‹â€‹: ä¸€çº§æ ‡é¢˜
â€‹â€‹â€‹â€‹heading_2â€‹â€‹â€‹â€‹: äºŒçº§æ ‡é¢˜
â€‹â€‹â€‹â€‹heading_3â€‹â€‹â€‹â€‹: ä¸‰çº§æ ‡é¢˜
åˆ—è¡¨é¡¹ (List Item)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹bulleted_list_itemâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹numbered_list_itemâ€‹â€‹â€‹â€‹
{
  "type": "bulleted_list_item",
  "data": {
    "rich_text": "RichText[]",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: åˆ—è¡¨é¡¹æ–‡æœ¬å†…å®¹
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
ç±»å‹åŒºåˆ«:
â€‹â€‹â€‹â€‹bulleted_list_itemâ€‹â€‹â€‹â€‹: æ— åºåˆ—è¡¨é¡¹ (åœ†ç‚¹)
â€‹â€‹â€‹â€‹numbered_list_itemâ€‹â€‹â€‹â€‹: æœ‰åºåˆ—è¡¨é¡¹ (æ•°å­—)
å¾…åŠäº‹é¡¹ (To Do)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹to_doâ€‹â€‹â€‹â€‹
{
  "type": "to_do",
  "data": {
    "rich_text": "RichText[]",
    "checked": "boolean",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: å¾…åŠäº‹é¡¹æ–‡æœ¬å†…å®¹
â€‹â€‹â€‹â€‹checkedâ€‹â€‹â€‹â€‹: æ˜¯å¦å·²å®Œæˆ
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
å¼•ç”¨ (Quote)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹quoteâ€‹â€‹â€‹â€‹
{
  "type": "quote",
  "data": {
    "rich_text": "RichText[]",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: å¼•ç”¨æ–‡æœ¬å†…å®¹
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
æŠ˜å å— (Toggle)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹toggleâ€‹â€‹â€‹â€‹
{
  "type": "toggle",
  "data": {
    "rich_text": "RichText[]",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: æŠ˜å å—æ ‡é¢˜æ–‡æœ¬
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
åª’ä½“å—ç±»å‹
ä»£ç å— (Code)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹codeâ€‹â€‹â€‹â€‹
{
  "type": "code",
  "data": {
    "rich_text": "RichText[]",
    "language": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: ä»£ç å†…å®¹
â€‹â€‹â€‹â€‹languageâ€‹â€‹â€‹â€‹: ç¼–ç¨‹è¯­è¨€æ ‡è¯†
æ”¯æŒçš„è¯­è¨€:
â€‹â€‹â€‹â€‹Câ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹C#â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹C++â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Clojureâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹CMakeâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Closure Stylesheets (GSS)â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹CoffeeScriptâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Common Lispâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Crystalâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹CSSâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Dâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Dartâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Djangoâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Dockerfileâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹diffâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹EBNFâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Elmâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Erlangâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹elixirâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Fortranâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹F#â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Gherkinâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Goâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Iniâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Shellâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Groovyâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹HAMLâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Haskellâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Haxeâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹HTMLâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹HTTPâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Javaâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹JavaScriptâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹JSONâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Juliaâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Kotlinâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹LESSâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹LiveScriptâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Luaâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Markdownâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Mathematicaâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Matlabâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹MakeFileâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Mermaidâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Nginxâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹NSISâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Objective-Câ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Objective-C++â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹OCamlâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Pascalâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Perlâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹PHPâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Plain Textâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹PowerShellâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Properties filesâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹ProtoBufâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Puppetâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Pythonâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Qâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Râ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹RPM Specâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Rubyâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Rustâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Reactâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹SASâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Scalaâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Schemeâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹SCSSâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Smalltalkâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Stylusâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹SQLâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Solidityâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Swiftâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹LaTeXâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹sTeXâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Tclâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Tomlâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Twigâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹TypeScriptâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹VB.NETâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹VBScriptâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹Verilogâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹VHDLâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹Vueâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹XMLâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹XQueryâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹YAMLâ€‹â€‹â€‹â€‹
å›¾ç‰‡ (Image)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹imageâ€‹â€‹â€‹â€‹
{
  "type": "image",
  "data": {
    "type": "file" | "external",
    "file"?: {
      "url": "string",
      "expiry_time": "string"
    },
    "external"?: {
      "url": "string"
    },
    "caption": "RichText[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹typeâ€‹â€‹â€‹â€‹: å›¾ç‰‡ç±»å‹ (â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹ ä¸ºå†…éƒ¨æ–‡ä»¶ï¼Œâ€‹â€‹â€‹â€‹externalâ€‹â€‹â€‹â€‹ ä¸ºå¤–éƒ¨é“¾æ¥)
â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹: å†…éƒ¨æ–‡ä»¶ä¿¡æ¯ (åŒ…å«è¿‡æœŸæ—¶é—´)
â€‹â€‹â€‹â€‹externalâ€‹â€‹â€‹â€‹: å¤–éƒ¨é“¾æ¥ä¿¡æ¯
â€‹â€‹â€‹â€‹captionâ€‹â€‹â€‹â€‹: å›¾ç‰‡è¯´æ˜æ–‡å­—
æ–‡ä»¶ (File)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹
{
  "type": "file",
  "data": {
    "type": "file" | "external",
    "file"?: {
      "url": "string",
      "expiry_time": "string"
    },
    "external"?: {
      "url": "string"
    },
    "caption": "RichText[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹typeâ€‹â€‹â€‹â€‹: æ–‡ä»¶ç±»å‹ (â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹ ä¸ºå†…éƒ¨æ–‡ä»¶ï¼Œâ€‹â€‹â€‹â€‹externalâ€‹â€‹â€‹â€‹ ä¸ºå¤–éƒ¨é“¾æ¥)
â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹: å†…éƒ¨æ–‡ä»¶ä¿¡æ¯ (åŒ…å«è¿‡æœŸæ—¶é—´)
â€‹â€‹â€‹â€‹externalâ€‹â€‹â€‹â€‹: å¤–éƒ¨é“¾æ¥ä¿¡æ¯
â€‹â€‹â€‹â€‹captionâ€‹â€‹â€‹â€‹: æ–‡ä»¶è¯´æ˜æ–‡å­—
ä¹¦ç­¾ (Bookmark)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹bookmarkâ€‹â€‹â€‹â€‹
{
  "type": "bookmark",
  "data": {
    "url": "string",
    "caption": "RichText[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹urlâ€‹â€‹â€‹â€‹: ä¹¦ç­¾URLåœ°å€
â€‹â€‹â€‹â€‹captionâ€‹â€‹â€‹â€‹: ä¹¦ç­¾è¯´æ˜æ–‡å­—
å†…åµŒ (Embed)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹embedâ€‹â€‹â€‹â€‹
{
  "type": "embed",
  "data": {
    "url": "string",
    "caption": "RichText[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹urlâ€‹â€‹â€‹â€‹: å†…åµŒå†…å®¹URLåœ°å€
â€‹â€‹â€‹â€‹captionâ€‹â€‹â€‹â€‹: å†…åµŒå†…å®¹è¯´æ˜æ–‡å­—
ç‰¹æ®Šå—ç±»å‹
æ ‡æ³¨å— (Callout)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹calloutâ€‹â€‹â€‹â€‹
{
  "type": "callout",
  "data": {
    "rich_text": "RichText[]",
    "icon": "Icon",
    "text_color": "Color",
    "background_color": "Color"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: æ ‡æ³¨æ–‡æœ¬å†…å®¹
â€‹â€‹â€‹â€‹iconâ€‹â€‹â€‹â€‹: å›¾æ ‡å¯¹è±¡
â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹: èƒŒæ™¯é¢œè‰²
å…¬å¼ (Equation)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹equationâ€‹â€‹â€‹â€‹
{
  "type": "equation",
  "data": {
    "expression": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹expressionâ€‹â€‹â€‹â€‹: LaTeX æ•°å­¦è¡¨è¾¾å¼
é¡µé¢å¼•ç”¨ (Link to Page)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹link_to_pageâ€‹â€‹â€‹â€‹
{
  "type": "link_to_page",
  "data": {
    "page_id": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹page_idâ€‹â€‹â€‹â€‹: è¢«å¼•ç”¨é¡µé¢çš„ID
æ¨¡æ¿æŒ‰é’® (Template)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹templateâ€‹â€‹â€‹â€‹
{
  "type": "template",
  "data": {
    "rich_text": "RichText[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹rich_textâ€‹â€‹â€‹â€‹: æ¨¡æ¿æŒ‰é’®æ˜¾ç¤ºæ–‡æœ¬
åŒæ­¥å— (Synced Block)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹synced_blockâ€‹â€‹â€‹â€‹
{
  "type": "synced_block",
  "data": {
    "synced_from": {
      "block_id": "string"
    } | null,
    "children": "Block[]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹synced_fromâ€‹â€‹â€‹â€‹: åŒæ­¥æºå—ä¿¡æ¯ (â€‹â€‹â€‹â€‹nullâ€‹â€‹â€‹â€‹ è¡¨ç¤ºåŸå§‹å—)
â€‹â€‹â€‹â€‹childrenâ€‹â€‹â€‹â€‹: å­å—åˆ—è¡¨
å¸ƒå±€å—ç±»å‹
åˆ†å‰²çº¿ (Divider)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹dividerâ€‹â€‹â€‹â€‹
{
  "type": "divider",
  "data": {}
}
å±æ€§è¯´æ˜:
åˆ†å‰²çº¿æ²¡æœ‰ç‰¹æ®Šå±æ€§
åˆ†æ å¸ƒå±€ (Column Layout)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹column_listâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹columnâ€‹â€‹â€‹â€‹
åˆ†æ åˆ—è¡¨ (Column List)
{
  "type": "column_list",
  "data": {}
}
åˆ†æ  (Column)
{
  "type": "column",
  "data": {}
}
å±æ€§è¯´æ˜:
åˆ†æ å¸ƒå±€ç»„ä»¶æ²¡æœ‰ç‰¹æ®Šå±æ€§ï¼Œé€šè¿‡å­å—å…³ç³»å½¢æˆå¸ƒå±€
è¡¨æ ¼ (Table)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹tableâ€‹â€‹â€‹â€‹
{
  "type": "table",
  "data": {
    "table_width": "number",
    "has_column_header": "boolean",
    "has_row_header": "boolean"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹table_widthâ€‹â€‹â€‹â€‹: è¡¨æ ¼åˆ—æ•°
â€‹â€‹â€‹â€‹has_column_headerâ€‹â€‹â€‹â€‹: æ˜¯å¦æœ‰åˆ—æ ‡é¢˜
â€‹â€‹â€‹â€‹has_row_headerâ€‹â€‹â€‹â€‹: æ˜¯å¦æœ‰è¡Œæ ‡é¢˜
è¡¨æ ¼è¡Œ (Table Row)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹table_rowâ€‹â€‹â€‹â€‹
{
  "type": "table_row",
  "data": {
    "cells": "RichText[][]"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹cellsâ€‹â€‹â€‹â€‹: å•å…ƒæ ¼å†…å®¹ï¼ŒäºŒç»´æ•°ç»„ï¼Œæ¯ä¸ªå•å…ƒæ ¼åŒ…å«å¯Œæ–‡æœ¬æ•°ç»„
å­å¯¹è±¡å—ç±»å‹
å­é¡µé¢ (Child Page)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹child_pageâ€‹â€‹â€‹â€‹
{
  "type": "child_page",
  "data": {
    "title": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹titleâ€‹â€‹â€‹â€‹: å­é¡µé¢æ ‡é¢˜
å­æ•°æ®åº“ (Child Database)
ç±»å‹æ ‡è¯†: â€‹â€‹â€‹â€‹child_databaseâ€‹â€‹â€‹â€‹
{
  "type": "child_database",
  "data": {
    "title": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹titleâ€‹â€‹â€‹â€‹: å­æ•°æ®åº“æ ‡é¢˜
æ•°æ®ç±»å‹å®šä¹‰
å¯Œæ–‡æœ¬ (RichText)
å¯Œæ–‡æœ¬æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ”¯æŒå¤šç§ç±»å‹çš„å†…å®¹æ®µè½ï¼š
type RichText = TextRichText | MentionRichText | EquationRichText;
æ–‡æœ¬ç±»å‹ (Text)
{
  "type": "text",
  "text": {
    "content": "string",
    "link": {
      "url": "string"
    } | null
  },
  "annotations": "Annotations",
  "plain_text": "string",
  "href": "string | null"
}
æåŠç±»å‹ (Mention)
{
  "type": "mention",
  "mention": {
    "type": "user" | "page" | "date",
    "user"?: {
      "id": "string"
    },
    "page"?: {
      "id": "string"
    },
    "date"?: {
      "start": "string",
      "end": "string | null",
      "time_zone": "string | null"
    }
  },
  "annotations": "Annotations",
  "plain_text": "string",
  "href": "string | null"
}
å…¬å¼ç±»å‹ (Equation)
{
  "type": "equation",
  "data": {
    "expression": "string"
  },
  "annotations": "Annotations",
  "plain_text": "string",
  "href": "string | null"
}
æ³¨è§£ (Annotations)
{
  "bold": "boolean",
  "italic": "boolean",
  "strikethrough": "boolean",
  "underline": "boolean",
  "code": "boolean",
  "color": "Color"
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹boldâ€‹â€‹â€‹â€‹: ç²—ä½“
â€‹â€‹â€‹â€‹italicâ€‹â€‹â€‹â€‹: æ–œä½“
â€‹â€‹â€‹â€‹strikethroughâ€‹â€‹â€‹â€‹: åˆ é™¤çº¿
â€‹â€‹â€‹â€‹underlineâ€‹â€‹â€‹â€‹: ä¸‹åˆ’çº¿
â€‹â€‹â€‹â€‹codeâ€‹â€‹â€‹â€‹: ä»£ç æ ¼å¼
â€‹â€‹â€‹â€‹colorâ€‹â€‹â€‹â€‹: æ–‡æœ¬é¢œè‰²
é¢œè‰² (Color)
type Color = 
  | "default"
  | "gray" 
  | "brown"
  | "orange"
  | "yellow"
  | "green"
  | "blue"
  | "purple"
  | "pink"
  | "red";
æ”¯æŒçš„é¢œè‰²å€¼:
â€‹â€‹â€‹â€‹defaultâ€‹â€‹â€‹â€‹: é»˜è®¤é¢œè‰²
â€‹â€‹â€‹â€‹grayâ€‹â€‹â€‹â€‹: ç°è‰²
â€‹â€‹â€‹â€‹brownâ€‹â€‹â€‹â€‹: æ£•è‰²
â€‹â€‹â€‹â€‹orangeâ€‹â€‹â€‹â€‹: æ©™è‰²
â€‹â€‹â€‹â€‹yellowâ€‹â€‹â€‹â€‹: é»„è‰²
â€‹â€‹â€‹â€‹greenâ€‹â€‹â€‹â€‹: ç»¿è‰²
â€‹â€‹â€‹â€‹blueâ€‹â€‹â€‹â€‹: è“è‰²
â€‹â€‹â€‹â€‹purpleâ€‹â€‹â€‹â€‹: ç´«è‰²
â€‹â€‹â€‹â€‹pinkâ€‹â€‹â€‹â€‹: ç²‰è‰²
â€‹â€‹â€‹â€‹redâ€‹â€‹â€‹â€‹: çº¢è‰²
å›¾æ ‡ (Icon)
å›¾æ ‡æ”¯æŒå¤šç§ç±»å‹ï¼š
Emoji å›¾æ ‡
{
  "emoji": "string"
}
æ–‡ä»¶å›¾æ ‡
{
  "type": "file",
  "data": {
    "url": "string",
    "expiry_time": "string"
  }
}
å¤–éƒ¨é“¾æ¥å›¾æ ‡
{
  "type": "external",
  "external": {
    "url": "string"
  }
}
å±æ€§è¯´æ˜:
â€‹â€‹â€‹â€‹emojiâ€‹â€‹â€‹â€‹: Unicode emoji å­—ç¬¦
â€‹â€‹â€‹â€‹typeâ€‹â€‹â€‹â€‹: å›¾æ ‡ç±»å‹ (â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹ æˆ– â€‹â€‹â€‹â€‹externalâ€‹â€‹â€‹â€‹)
â€‹â€‹â€‹â€‹file.urlâ€‹â€‹â€‹â€‹: å†…éƒ¨æ–‡ä»¶URL
â€‹â€‹â€‹â€‹file.expiry_timeâ€‹â€‹â€‹â€‹: æ–‡ä»¶è¿‡æœŸæ—¶é—´ (ISO 8601 æ ¼å¼)
â€‹â€‹â€‹â€‹external.urlâ€‹â€‹â€‹â€‹: å¤–éƒ¨å›¾ç‰‡URL
ç¤ºä¾‹:
// Emoji å›¾æ ‡
{
  "emoji": "ğŸ’¡"
}

// æ–‡ä»¶å›¾æ ‡
{
  "type": "file",
  "data": {
    "url": "https://cdn2.flowus.cn/files/abc123",
    "expiry_time": "2023-12-01T15:00:00.000Z"
  }
}

// å¤–éƒ¨å›¾æ ‡
{
  "type": "external",
  "external": {
    "url": "https://example.com/icon.png"
  }
}
æ—¥æœŸæ ¼å¼è¯´æ˜
æ—¥æœŸå­—æ®µæ”¯æŒå¤šç§æ ¼å¼ï¼š
ä»…æ—¥æœŸ
{
  "start": "2023-12-01",
  "end": null,
  "time_zone": null
}
æ—¥æœŸæ—¶é—´
{
  "start": "2023-12-01T14:30:00",
  "end": null,
  "time_zone": null
}
æ—¥æœŸèŒƒå›´
{
  "start": "2023-12-01",
  "end": "2023-12-03",
  "time_zone": null
}
æ—¥æœŸæ—¶é—´èŒƒå›´
{
  "start": "2023-12-01T09:00:00",
  "end": "2023-12-01T17:00:00",
  "time_zone": "Asia/Shanghai"
}
å®Œæ•´ç¤ºä¾‹
å¤æ‚æ®µè½å—ç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "parent": {
    "type": "block_id",
    "block_id": "550e8400-e29b-41d4-a716-446655440001"
  },
  "created_time": "2023-12-01T10:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "last_edited_time": "2023-12-01T10:30:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440001"
  },
  "archived": false,
  "has_children": false,
  "type": "paragraph",
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯ä¸€ä¸ªåŒ…å«",
          "link": null
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "è¿™æ˜¯ä¸€ä¸ªåŒ…å«",
        "href": null
      },
      {
        "type": "text",
        "text": {
          "content": "ç²—ä½“æ–‡å­—",
          "link": null
        },
        "annotations": {
          "bold": true,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "red"
        },
        "plain_text": "ç²—ä½“æ–‡å­—",
        "href": null
      },
      {
        "type": "text",
        "text": {
          "content": "å’Œ",
          "link": null
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "å’Œ",
        "href": null
      },
      {
        "type": "mention",
        "mention": {
          "type": "user",
          "user": {
            "id": "user-550e8400-e29b-41d4-a716-446655440002"
          }
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "@å¼ ä¸‰",
        "href": null
      },
      {
        "type": "text",
        "text": {
          "content": "çš„å¤æ‚æ®µè½ã€‚",
          "link": null
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "çš„å¤æ‚æ®µè½ã€‚",
        "href": null
      }
    ],
    "text_color": "default",
    "background_color": "yellow"
  }
}
æ ‡æ³¨å—ç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440003",
  "parent": {
    "type": "page_id",
    "page_id": "550e8400-e29b-41d4-a716-446655440004"
  },
  "created_time": "2023-12-01T11:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "last_edited_time": "2023-12-01T11:00:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "archived": false,
  "has_children": false,
  "type": "callout",
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯ä¸€ä¸ªé‡è¦æç¤ºä¿¡æ¯ï¼",
          "link": null
        },
        "annotations": {
          "bold": true,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "è¿™æ˜¯ä¸€ä¸ªé‡è¦æç¤ºä¿¡æ¯ï¼",
        "href": null
      }
    ],
    "icon": {
      "emoji": "âš ï¸"
    },
    "text_color": "default",
    "background_color": "yellow"
  }
}
è¡¨æ ¼è¡Œç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440005",
  "parent": {
    "type": "block_id",
    "block_id": "550e8400-e29b-41d4-a716-446655440006"
  },
  "created_time": "2023-12-01T12:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "last_edited_time": "2023-12-01T12:00:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "archived": false,
  "has_children": false,
  "type": "table_row",
  "data": {
    "cells": [
      [
        {
          "type": "text",
          "text": {
            "content": "äº§å“åç§°",
            "link": null
          },
          "annotations": {
            "bold": true,
            "italic": false,
            "strikethrough": false,
            "underline": false,
            "code": false,
            "color": "default"
          },
          "plain_text": "äº§å“åç§°",
          "href": null
        }
      ],
      [
        {
          "type": "text",
          "text": {
            "content": "ä»·æ ¼",
            "link": null
          },
          "annotations": {
            "bold": true,
            "italic": false,
            "strikethrough": false,
            "underline": false,
            "code": false,
            "color": "default"
          },
          "plain_text": "ä»·æ ¼",
          "href": null
        }
      ],
      [
        {
          "type": "text",
          "text": {
            "content": "çŠ¶æ€",
            "link": null
          },
          "annotations": {
            "bold": true,
            "italic": false,
            "strikethrough": false,
            "underline": false,
            "code": false,
            "color": "default"
          },
          "plain_text": "çŠ¶æ€",
          "href": null
        }
      ]
    ]
  }
}
å—ç±»å‹å…¼å®¹æ€§
æ”¯æŒå­å—çš„ç±»å‹
ä»¥ä¸‹å—ç±»å‹å¯ä»¥åŒ…å«å­å— (â€‹â€‹â€‹â€‹has_children: trueâ€‹â€‹â€‹â€‹)ï¼š
â€‹â€‹â€‹â€‹paragraphâ€‹â€‹â€‹â€‹ (æ®µè½)
â€‹â€‹â€‹â€‹heading_1â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹heading_2â€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹heading_3â€‹â€‹â€‹â€‹ (æ ‡é¢˜)
â€‹â€‹â€‹â€‹bulleted_list_itemâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹numbered_list_itemâ€‹â€‹â€‹â€‹ (åˆ—è¡¨é¡¹)
â€‹â€‹â€‹â€‹to_doâ€‹â€‹â€‹â€‹ (å¾…åŠäº‹é¡¹)
â€‹â€‹â€‹â€‹quoteâ€‹â€‹â€‹â€‹ (å¼•ç”¨)
â€‹â€‹â€‹â€‹toggleâ€‹â€‹â€‹â€‹ (æŠ˜å å—)
â€‹â€‹â€‹â€‹calloutâ€‹â€‹â€‹â€‹ (æ ‡æ³¨å—)
â€‹â€‹â€‹â€‹column_listâ€‹â€‹â€‹â€‹ (åˆ†æ åˆ—è¡¨)
â€‹â€‹â€‹â€‹columnâ€‹â€‹â€‹â€‹ (åˆ†æ )
â€‹â€‹â€‹â€‹synced_blockâ€‹â€‹â€‹â€‹ (åŒæ­¥å—)
â€‹â€‹â€‹â€‹child_pageâ€‹â€‹â€‹â€‹ (å­é¡µé¢)
â€‹â€‹â€‹â€‹child_databaseâ€‹â€‹â€‹â€‹ (å­æ•°æ®åº“)
â€‹â€‹â€‹â€‹tableâ€‹â€‹â€‹â€‹ (è¡¨æ ¼ï¼Œä»…åŒ…å« â€‹â€‹â€‹â€‹table_rowâ€‹â€‹â€‹â€‹ å­å—)
ä¸æ”¯æŒå­å—çš„ç±»å‹
ä»¥ä¸‹å—ç±»å‹ä¸èƒ½åŒ…å«å­å— (â€‹â€‹â€‹â€‹has_children: falseâ€‹â€‹â€‹â€‹)ï¼š
â€‹â€‹â€‹â€‹codeâ€‹â€‹â€‹â€‹ (ä»£ç å—)
â€‹â€‹â€‹â€‹imageâ€‹â€‹â€‹â€‹ (å›¾ç‰‡)
â€‹â€‹â€‹â€‹fileâ€‹â€‹â€‹â€‹ (æ–‡ä»¶)
â€‹â€‹â€‹â€‹bookmarkâ€‹â€‹â€‹â€‹ (ä¹¦ç­¾)
â€‹â€‹â€‹â€‹embedâ€‹â€‹â€‹â€‹ (å†…åµŒ)
â€‹â€‹â€‹â€‹equationâ€‹â€‹â€‹â€‹ (å…¬å¼)
â€‹â€‹â€‹â€‹link_to_pageâ€‹â€‹â€‹â€‹ (é¡µé¢å¼•ç”¨)
â€‹â€‹â€‹â€‹templateâ€‹â€‹â€‹â€‹ (æ¨¡æ¿æŒ‰é’®)
â€‹â€‹â€‹â€‹dividerâ€‹â€‹â€‹â€‹ (åˆ†å‰²çº¿)
â€‹â€‹â€‹â€‹table_rowâ€‹â€‹â€‹â€‹ (è¡¨æ ¼è¡Œ)
ç‰¹æ®Šçº¦æŸ
â€‹â€‹â€‹â€‹tableâ€‹â€‹â€‹â€‹ å—åªèƒ½åŒ…å« â€‹â€‹â€‹â€‹table_rowâ€‹â€‹â€‹â€‹ ç±»å‹çš„å­å—
â€‹â€‹â€‹â€‹column_listâ€‹â€‹â€‹â€‹ å—åªèƒ½åŒ…å« â€‹â€‹â€‹â€‹columnâ€‹â€‹â€‹â€‹ ç±»å‹çš„å­å—
â€‹â€‹â€‹â€‹synced_blockâ€‹â€‹â€‹â€‹ çš„å†…å®¹ç”±åŒæ­¥æºå†³å®šï¼Œä¸èƒ½ç›´æ¥ç¼–è¾‘å­å—
ç‰ˆæœ¬å…¼å®¹æ€§
API ç‰ˆæœ¬ï¼šv1
æ”¯æŒçš„å—ç±»å‹:
â€‹â€‹âœ…â€‹â€‹ æ‰€æœ‰åŸºç¡€æ–‡æœ¬å— (paragraph, heading, list, to_do, quote, toggle)
â€‹â€‹âœ…â€‹â€‹ æ‰€æœ‰åª’ä½“å— (code, image, file, bookmark, embed)
â€‹â€‹âœ…â€‹â€‹ æ‰€æœ‰ç‰¹æ®Šå— (callout, equation, link_to_page, template, synced_block)
â€‹â€‹âœ…â€‹â€‹ æ‰€æœ‰å¸ƒå±€å— (divider, column_list, column, table, table_row)
â€‹â€‹âœ…â€‹â€‹ æ‰€æœ‰å­å¯¹è±¡å— (child_page, child_database)
é¢œè‰²æ”¯æŒ:
â€‹â€‹âœ…â€‹â€‹ å—çº§åˆ«é¢œè‰² (â€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹)
â€‹â€‹âœ…â€‹â€‹ å¯Œæ–‡æœ¬çº§åˆ«é¢œè‰² (â€‹â€‹â€‹â€‹annotations.colorâ€‹â€‹â€‹â€‹)
â€‹â€‹âœ…â€‹â€‹ å®Œæ•´çš„é¢œè‰²å€¼æ”¯æŒ
å¯Œæ–‡æœ¬æ”¯æŒ:
â€‹â€‹âœ…â€‹â€‹ æ–‡æœ¬æ ¼å¼åŒ– (bold, italic, strikethrough, underline, code)
â€‹â€‹âœ…â€‹â€‹ é“¾æ¥æ”¯æŒ
â€‹â€‹âœ…â€‹â€‹ ç”¨æˆ·æåŠ (@ç”¨æˆ·)
â€‹â€‹âœ…â€‹â€‹ é¡µé¢æåŠ (é¡µé¢å¼•ç”¨)
â€‹â€‹âœ…â€‹â€‹ æ—¥æœŸæåŠ (æ—¥æœŸå’Œæ—¶é—´)
â€‹â€‹âœ…â€‹â€‹ æ•°å­¦å…¬å¼
ç›¸å…³æ–‡æ¡£
Blocks API æ–‡æ¡£ - API æ¥å£è¯¦ç»†è¯´æ˜
æ’ä»¶å¼€å‘æŒ‡å— - æ’ä»¶å¼€å‘å®Œæ•´æŒ‡å—
Pages API æ–‡æ¡£ - é¡µé¢ç®¡ç† API
Database API æ–‡æ¡£ - æ•°æ®åº“ç®¡ç† API
æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“”
å— API æ–‡æ¡£
æ¦‚è¿°
Blocks API æä¾›äº†ç±»ä¼¼ Notion çš„å—ç®¡ç†èƒ½åŠ›ï¼ŒåŒ…æ‹¬è·å–ã€åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤å„ç§ç±»å‹çš„å†…å®¹å—ã€‚æ”¯æŒæ®µè½ã€æ ‡é¢˜ã€åˆ—è¡¨ã€å¤šåª’ä½“ã€å¸ƒå±€ç­‰å¤šç§å—ç±»å‹ï¼Œä»¥åŠå®Œæ•´çš„é¢œè‰²å’Œæ ¼å¼åŒ–åŠŸèƒ½ã€‚
åŸºç¡€ä¿¡æ¯
API ç‰ˆæœ¬
Plain Text
1
v1
åŸºç¡€ URL
æ­£å¼ç¯å¢ƒ
Plain Text
1
https://api.flowus.cn/v1
æµ‹è¯•ç¯å¢ƒ
https://api-test.allflow.cn/v1
è®¤è¯
æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ Authorization å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„æœºå™¨äººä»¤ç‰Œï¼š
Authorization: Bearer <bot_token>
è·å–æœºå™¨äººä»¤ç‰Œï¼š è¯·å‚è€ƒ æ’ä»¶å¼€å‘æŒ‡å— äº†è§£å¦‚ä½•åˆ›å»ºé›†æˆåº”ç”¨å’Œè·å–æœºå™¨äººè®¿é—®ä»¤ç‰Œã€‚
API æ¥å£
1. è·å–å•ä¸ªå—
è·å–æŒ‡å®šå—çš„è¯¦ç»†ä¿¡æ¯ã€‚
è¯·æ±‚
GET /v1/blocks/{block_id}
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹block_idâ€‹â€‹â€‹â€‹ (string, å¿…å¡«): è¦è·å–çš„å—ID
å“åº”ç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "parent": {
    "type": "block_id",
    "block_id": "550e8400-e29b-41d4-a716-446655440001"
  },
  "created_time": "2023-12-01T10:00:00.000Z",
  "created_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440000"
  },
  "last_edited_time": "2023-12-01T10:30:00.000Z",
  "last_edited_by": {
    "object": "user",
    "id": "user-550e8400-e29b-41d4-a716-446655440001"
  },
  "archived": false,
  "has_children": true,
  "type": "paragraph",
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯ä¸€ä¸ªæ®µè½å—",
          "link": null
        },
        "annotations": {
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        },
        "plain_text": "è¿™æ˜¯ä¸€ä¸ªæ®µè½å—",
        "href": null
      }
    ],
    "text_color": "default",
    "background_color": "default"
  }
}
2. è·å–å—çš„å­å—
è·å–æŒ‡å®šå—çš„ç›´æ¥å­å—åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µã€‚
è¯·æ±‚
GET /v1/blocks/{block_id}/children
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹block_idâ€‹â€‹â€‹â€‹ (string, å¿…å¡«): çˆ¶å—ID
æŸ¥è¯¢å‚æ•°
â€‹â€‹â€‹â€‹page_sizeâ€‹â€‹â€‹â€‹ (integer, å¯é€‰): æ¯é¡µè¿”å›çš„å—æ•°é‡ï¼Œå–å€¼èŒƒå›´ 1-100ï¼Œé»˜è®¤ 50
â€‹â€‹â€‹â€‹start_cursorâ€‹â€‹â€‹â€‹ (string, å¯é€‰): åˆ†é¡µæ¸¸æ ‡ï¼Œä½¿ç”¨å­å—çš„IDä½œä¸ºæ¸¸æ ‡å€¼
å“åº”ç¤ºä¾‹
{
  "object": "list",
  "results": [
    {
      "object": "block",
      "id": "550e8400-e29b-41d4-a716-446655440002",
      "type": "paragraph",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "å­å—å†…å®¹",
              "link": null
            }
          }
        ],
        "text_color": "default",
        "background_color": "default"
      }
    }
  ],
  "next_cursor": "550e8400-e29b-41d4-a716-446655440002",
  "has_more": true,
  "type": "block",
  "block": {}
}
3. è¿½åŠ å­å—
å‘æŒ‡å®šå—è¿½åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå­å—ã€‚
è¯·æ±‚
PATCH /v1/blocks/{block_id}/children
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹block_idâ€‹â€‹â€‹â€‹ (string, å¿…å¡«): çˆ¶å—ID
è¯·æ±‚ä½“
{
  "children": [
    {
      "type": "paragraph",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "æ–°æ®µè½å†…å®¹",
              "link": null
            },
            "annotations": {
              "bold": false,
              "italic": false,
              "strikethrough": false,
              "underline": false,
              "code": false,
              "color": "default"
            }
          }
        ],
        "text_color": "blue",
        "background_color": "yellow"
      }
    }
  ]
}
é™åˆ¶
å•æ¬¡æœ€å¤šåˆ›å»º 100 ä¸ªå­å—
æ¯ä¸ªå­å—å¿…é¡»æŒ‡å®šæœ‰æ•ˆçš„ç±»å‹
å“åº”ç¤ºä¾‹
{
  "object": "list",
  "results": [
    {
      "object": "block",
      "id": "550e8400-e29b-41d4-a716-446655440003",
      "type": "paragraph",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "æ–°æ®µè½å†…å®¹",
              "link": null
            }
          }
        ],
        "text_color": "blue",
        "background_color": "yellow"
      }
    }
  ],
  "next_cursor": null,
  "has_more": false,
  "type": "block",
  "block": {}
}
4. æ›´æ–°å—
æ›´æ–°ç°æœ‰å—çš„å†…å®¹ã€ç±»å‹æˆ–å±æ€§ã€‚
è¯·æ±‚
PATCH /v1/blocks/{block_id}
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹block_idâ€‹â€‹â€‹â€‹ (string, å¿…å¡«): è¦æ›´æ–°çš„å—ID
4.1 æ›´æ–°å—å†…å®¹
è¯·æ±‚ä½“ç¤ºä¾‹
{
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "æ›´æ–°åçš„æ®µè½å†…å®¹",
          "link": null
        },
        "annotations": {
          "bold": true,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "red"
        }
      }
    ],
    "text_color": "red",
    "background_color": "yellow"
  }
}
4.2 æ›´æ”¹å—ç±»å‹
è¯·æ±‚ä½“ç¤ºä¾‹
{
  "type": "heading_1",
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "ç°åœ¨æ˜¯ä¸€çº§æ ‡é¢˜",
          "link": null
        },
        "annotations": {
          "bold": true,
          "italic": false,
          "strikethrough": false,
          "underline": false,
          "code": false,
          "color": "default"
        }
      }
    ],
    "text_color": "blue",
    "background_color": "default"
  }
}
4.3 å½’æ¡£å—
è¯·æ±‚ä½“ç¤ºä¾‹
{
  "archived": true
}
å“åº”ç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "type": "heading_1",
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "ç°åœ¨æ˜¯ä¸€çº§æ ‡é¢˜",
          "link": null
        }
      }
    ],
    "text_color": "blue",
    "background_color": "default"
  }
}
5. åˆ é™¤å—
åˆ é™¤æŒ‡å®šå—åŠå…¶æ‰€æœ‰å­å—ã€‚æ­¤æ“ä½œä¸å¯é€†ã€‚
è¯·æ±‚
DELETE /v1/blocks/{block_id}
è·¯å¾„å‚æ•°
â€‹â€‹â€‹â€‹block_idâ€‹â€‹â€‹â€‹ (string, å¿…å¡«): è¦åˆ é™¤çš„å—ID
å“åº”ç¤ºä¾‹
{
  "object": "block",
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "deleted": true
}
æ”¯æŒçš„å—ç±»å‹
FlowUs Blocks API æ”¯æŒä¸°å¯Œçš„å—ç±»å‹ï¼Œæ¶µç›–æ–‡æœ¬ã€åª’ä½“ã€å¸ƒå±€ç­‰å„ç§å†…å®¹å½¢å¼ï¼š
å—ç±»å‹æ¦‚è§ˆ
ç±»åˆ«
å—ç±»å‹
è¯´æ˜
é¢œè‰²æ”¯æŒ
æ‰€æœ‰æ–‡æœ¬ç±»å—ç±»å‹éƒ½æ”¯æŒåŒå±‚é¢œè‰²ç³»ç»Ÿï¼š
å—çº§åˆ«é¢œè‰²ï¼šâ€‹â€‹â€‹â€‹text_colorâ€‹â€‹â€‹â€‹ å’Œ â€‹â€‹â€‹â€‹background_colorâ€‹â€‹â€‹â€‹
å¯Œæ–‡æœ¬çº§åˆ«é¢œè‰²ï¼šâ€‹â€‹â€‹â€‹annotations.colorâ€‹â€‹â€‹â€‹
æ”¯æŒçš„é¢œè‰²å€¼ï¼šâ€‹â€‹â€‹â€‹defaultâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹grayâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹brownâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹orangeâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹yellowâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹greenâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹blueâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹purpleâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹pinkâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹redâ€‹â€‹â€‹â€‹
è¯¦ç»†è¯´æ˜ï¼š æ¯ç§å—ç±»å‹çš„å…·ä½“å¯¹è±¡ç»“æ„ã€å±æ€§å®šä¹‰å’Œä½¿ç”¨ç¤ºä¾‹ï¼Œè¯·å‚è€ƒ Block å¯¹è±¡å®ä½“æ–‡æ¡£ã€‚
å¯Œæ–‡æœ¬å¯¹è±¡
å¯Œæ–‡æœ¬å¯¹è±¡ç”¨äºè¡¨ç¤ºæ ¼å¼åŒ–çš„æ–‡æœ¬å†…å®¹ï¼Œæ”¯æŒä»¥ä¸‹ç±»å‹ï¼š
æ”¯æŒçš„å¯Œæ–‡æœ¬ç±»å‹
ç±»å‹
æè¿°
ç”¨é€”
æ ¼å¼åŒ–æ”¯æŒ
æ‰€æœ‰å¯Œæ–‡æœ¬ç±»å‹éƒ½æ”¯æŒ â€‹â€‹â€‹â€‹annotationsâ€‹â€‹â€‹â€‹ æ ¼å¼åŒ–ï¼š
æ ·å¼ï¼šâ€‹â€‹â€‹â€‹boldâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹italicâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹strikethroughâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹underlineâ€‹â€‹â€‹â€‹, â€‹â€‹â€‹â€‹codeâ€‹â€‹â€‹â€‹
é¢œè‰²ï¼šâ€‹â€‹â€‹â€‹colorâ€‹â€‹â€‹â€‹ (æ”¯æŒæ‰€æœ‰æ ‡å‡†é¢œè‰²å€¼)
é“¾æ¥ï¼šâ€‹â€‹â€‹â€‹hrefâ€‹â€‹â€‹â€‹ å’Œ â€‹â€‹â€‹â€‹text.linkâ€‹â€‹â€‹â€‹
è¯¦ç»†è¯´æ˜ï¼š å¯Œæ–‡æœ¬å¯¹è±¡çš„å®Œæ•´ç»“æ„å®šä¹‰å’Œä½¿ç”¨ç¤ºä¾‹ï¼Œè¯·å‚è€ƒ Block å¯¹è±¡å®ä½“æ–‡æ¡£ã€‚
ä½¿ç”¨ç¤ºä¾‹
åˆ›å»ºå¤æ‚å†…å®¹ç»“æ„
PATCH /v1/blocks/parent-block-id/children
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "children": [
    {
      "type": "heading_1",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "é¡¹ç›®æ–‡æ¡£",
              "link": null
            },
            "annotations": {
              "bold": true,
              "color": "blue"
            }
          }
        ],
        "text_color": "blue",
        "background_color": "default"
      }
    },
    {
      "type": "callout",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "è¿™æ˜¯ä¸€ä¸ªé‡è¦æç¤ºï¼Œè¯·ä»”ç»†é˜…è¯»ï¼",
              "link": null
            }
          }
        ],
        "icon": {
          "emoji": "âš ï¸"
        },
        "text_color": "default",
        "background_color": "yellow"
      }
    },
    {
      "type": "paragraph",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "é¡¹ç›®è´Ÿè´£äººï¼š",
              "link": null
            }
          },
          {
            "type": "mention",
            "mention": {
              "type": "user",
              "user": {
                "id": "user-123"
              }
            }
          },
          {
            "type": "text",
            "text": {
              "content": "ï¼Œå®Œæˆæ—¶é—´ï¼š",
              "link": null
            }
          },
          {
            "type": "mention",
            "mention": {
              "type": "date",
              "date": {
                "start": "2023-12-31",
                "end": null,
                "time_zone": null
              }
            }
          }
        ],
        "text_color": "default",
        "background_color": "default"
      }
    },
    {
      "type": "to_do",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "å®Œæˆéœ€æ±‚åˆ†æ",
              "link": null
            }
          }
        ],
        "checked": true,
        "text_color": "green",
        "background_color": "default"
      }
    },
    {
      "type": "to_do",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "å®Œæˆä»£ç å¼€å‘",
              "link": null
            }
          }
        ],
        "checked": false,
        "text_color": "default",
        "background_color": "default"
      }
    },
    {
      "type": "code",
      "data": {
        "rich_text": [
          {
            "type": "text",
            "text": {
              "content": "function calculateProgress() {\n  const completed = tasks.filter(t => t.done).length;\n  const total = tasks.length;\n  return (completed / total) * 100;\n}",
              "link": null
            }
          }
        ],
        "language": "javascript"
      }
    },
    {
      "type": "divider",
      "data": {}
    },
    {
      "type": "table",
      "data": {
        "table_width": 3,
        "has_column_header": true,
        "has_row_header": false
      }
    }
  ]
}
æ›´æ–°å—å†…å®¹å’Œé¢œè‰²
PATCH /v1/blocks/block-id
Authorization: Bearer your_bot_token
Content-Type: application/json

{
  "data": {
    "rich_text": [
      {
        "type": "text",
        "text": {
          "content": "è¿™æ˜¯æ›´æ–°åçš„å†…å®¹ï¼Œ",
          "link": null
        },
        "annotations": {
          "bold": true,
          "color": "red"
        }
      },
      {
        "type": "text",
        "text": {
          "content": "éƒ¨åˆ†æ–‡å­—æœ‰ç‰¹æ®Šæ ¼å¼ã€‚",
          "link": null
        },
        "annotations": {
          "italic": true,
          "underline": true,
          "color": "blue"
        }
      }
    ],
    "text_color": "default",
    "background_color": "yellow"
  }
}
é”™è¯¯å¤„ç†
HTTP çŠ¶æ€ç 
çŠ¶æ€ç 
æè¿°
é”™è¯¯å“åº”æ ¼å¼
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥",
  "details": {
    "field": "children",
    "reason": "å¿…é¡»æä¾›è‡³å°‘ä¸€ä¸ªå­å—"
  }
}
å¸¸è§é”™è¯¯ç±»å‹
1. å‚æ•°éªŒè¯é”™è¯¯ (validation_error)
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "å¿…é¡»æä¾›è‡³å°‘ä¸€ä¸ªå­å—"
}
2. æƒé™ä¸è¶³ (forbidden)
{
  "object": "error",
  "status": 403,
  "code": "forbidden",
  "message": "æœºå™¨äººæ²¡æœ‰è®¿é—®æ­¤å—çš„æƒé™"
}
3. å—ä¸å­˜åœ¨ (not_found)
{
  "object": "error",
  "status": 404,
  "code": "not_found",
  "message": "æŒ‡å®šçš„å—ä¸å­˜åœ¨"
}
4. å—ç±»å‹ä¸æ”¯æŒ (unsupported_block_type)
{
  "object": "error",
  "status": 422,
  "code": "unsupported_block_type",
  "message": "ä¸æ”¯æŒçš„å—ç±»å‹: invalid_type"
}
API é™åˆ¶
è¯·æ±‚é™åˆ¶
å•æ¬¡åˆ›å»ºå—æ•°é‡ï¼šæœ€å¤š100ä¸ªå­å—
å¯Œæ–‡æœ¬é•¿åº¦ï¼šå•ä¸ªå¯Œæ–‡æœ¬æ®µè½æœ€å¤§2000å­—ç¬¦
åµŒå¥—æ·±åº¦ï¼šå—åµŒå¥—æ·±åº¦ä¸è¶…è¿‡50å±‚
åˆ†é¡µå¤§å°ï¼šåˆ†é¡µæŸ¥è¯¢æœ€å¤§é¡µé¢å¤§å°ä¸º100
é¢‘ç‡é™åˆ¶
è¯»å–æ“ä½œï¼šæ¯åˆ†é’Ÿ1000æ¬¡è¯·æ±‚
å†™å…¥æ“ä½œï¼šæ¯åˆ†é’Ÿ100æ¬¡è¯·æ±‚
æ‰¹é‡æ“ä½œï¼šæ¯åˆ†é’Ÿ10æ¬¡è¯·æ±‚
å­˜å‚¨é™åˆ¶
æ–‡ä»¶å¤§å°ï¼šå•ä¸ªæ–‡ä»¶æœ€å¤§100MB
å›¾ç‰‡å°ºå¯¸ï¼šæœ€å¤§20MBï¼Œæ¨èå°ºå¯¸ä¸è¶…è¿‡4K
æ€»å­˜å‚¨ï¼šæ ¹æ®ç©ºé—´å¥—é¤é™åˆ¶
æœ€ä½³å®è·µ
1. æ“ä½œä¼˜åŒ–
æ‰¹é‡æ“ä½œï¼šä¸€æ¬¡æ€§åˆ›å»ºå¤šä¸ªå—è€Œä¸æ˜¯é€ä¸ªåˆ›å»º
åˆ†é¡µå¤„ç†ï¼šå¯¹äºå¤§é‡å­å—ï¼Œä½¿ç”¨åˆ†é¡µè·å–
åˆç†ä½¿ç”¨ï¼šé¿å…ä¸å¿…è¦çš„APIè°ƒç”¨
2. é”™è¯¯å¤„ç†
é‡è¯•æœºåˆ¶ï¼šå¯¹äºä¸´æ—¶é”™è¯¯å®ç°åˆç†é‡è¯•
ä¼˜é›…é™çº§ï¼šå½“æŸäº›å—ç±»å‹ä¸æ”¯æŒæ—¶æä¾›å¤‡é€‰æ–¹æ¡ˆ
ç”¨æˆ·åé¦ˆï¼šå‘ç”¨æˆ·æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
3. å†…å®¹ç»“æ„
å±‚æ¬¡æ¸…æ™°ï¼šåˆç†ä½¿ç”¨æ ‡é¢˜å±‚çº§ç»„ç»‡å†…å®¹
æ ¼å¼ä¸€è‡´ï¼šä¿æŒç›¸åŒç±»å‹å†…å®¹çš„æ ¼å¼ä¸€è‡´æ€§
é¢œè‰²é€‚åº¦ï¼šé¿å…è¿‡åº¦ä½¿ç”¨é¢œè‰²é€ æˆè§†è§‰å¹²æ‰°
4. æƒé™ç®¡ç†
æœ€å°æƒé™ï¼šæœºå™¨äººåªç”³è¯·å¿…è¦çš„æƒé™
æƒé™æ£€æŸ¥ï¼šåœ¨æ“ä½œå‰æ£€æŸ¥æœºå™¨äººæƒé™
é”™è¯¯å¤„ç†ï¼šå¤„ç†æƒé™ä¸è¶³çš„æƒ…å†µ
ç›¸å…³æ–‡æ¡£
Block å¯¹è±¡å®ä½“æ–‡æ¡£ - æ‰€æœ‰å—ç±»å‹çš„è¯¦ç»†å¯¹è±¡ç»“æ„å’Œå±æ€§å®šä¹‰
æ’ä»¶å¼€å‘æŒ‡å— - äº†è§£å¦‚ä½•åˆ›å»ºé›†æˆåº”ç”¨å’Œè·å–æœºå™¨äººToken
æœºå™¨äººAPIè¯¦ç»†æ–‡æ¡£ - æœºå™¨äººAPIçš„å®Œæ•´å‚è€ƒ
Pages APIæ–‡æ¡£ - é¡µé¢ç®¡ç†API
Database APIæ–‡æ¡£ - æ•°æ®åº“ç®¡ç†API
å¿«é€Ÿå‚è€ƒ
å¸¸ç”¨å—ç±»å‹åˆ›å»ºæ¨¡æ¿
æ®µè½
{
  "type": "paragraph",
  "data": {
    "rich_text": [{"type": "text", "text": {"content": "å†…å®¹"}}],
    "text_color": "default",
    "background_color": "default"
  }
}
æ ‡é¢˜
{
  "type": "heading_1",
  "data": {
    "rich_text": [{"type": "text", "text": {"content": "æ ‡é¢˜"}}],
    "text_color": "default",
    "background_color": "default"
  }
}
ä»£åŠäº‹é¡¹
{
  "type": "to_do",
  "data": {
    "rich_text": [{"type": "text", "text": {"content": "ä»»åŠ¡"}}],
    "checked": false,
    "text_color": "default",
    "background_color": "default"
  }
}
ä»£ç å—
{
  "type": "code",
  "data": {
    "rich_text": [{"type": "text", "text": {"content": "ä»£ç "}}],
    "language": "javascript"
  }
}
æ ‡æ³¨å—
{
  "type": "callout",
  "data": {
    "rich_text": [{"type": "text", "text": {"content": "æç¤º"}}],
    "icon": {"emoji": "ğŸ’¡"},
    "text_color": "default",
    "background_color": "yellow"
  }
}
æœç´¢æ ‡é¢˜/å†…å®¹
ğŸ“–
User API æ–‡æ¡£
æ¦‚è¿°
æœºå™¨äººç”¨æˆ· API æä¾›äº†è·å–æœºå™¨äººåˆ›å»ºè€…ä¿¡æ¯çš„åŠŸèƒ½ã€‚è¿™äº›APIå…è®¸æœºå™¨äººäº†è§£åˆ›å»ºå®ƒçš„ç”¨æˆ·ä¿¡æ¯ã€‚
è®¤è¯
æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ HTTP å¤´ä¸­åŒ…å«æœºå™¨äººçš„ Bearer Tokenï¼š
Plain Text
1
Authorization: Bearer your_bot_token_here
API æ¥å£
è·å–æœºå™¨äººåˆ›å»ºè€…ä¿¡æ¯
è·å–å½“å‰æœºå™¨äººçš„åˆ›å»ºè€…ç”¨æˆ·ä¿¡æ¯ã€‚
è¯·æ±‚
HTTP
1
GET /v1/users/me
æƒé™è¦æ±‚
æœºå™¨äººéœ€è¦å…·å¤‡ â€‹â€‹â€‹â€‹readContentâ€‹â€‹â€‹â€‹ èƒ½åŠ›
å“åº”
æˆåŠŸå“åº” (200 OK):
{
  "object": "user",
  "id": "875bb809-eab6-467f-80d9-a7de6899d885",
  "type": "person",
  "person": {
    "email": "user@example.com"
  },
  "name": "å¼ ä¸‰",
  "avatar_url": "https://cdn2.flowus.cn/avatar123.jpg"
}
å“åº”å­—æ®µè¯´æ˜
å­—æ®µ
ç±»å‹
æè¿°
æ˜¯å¦å¿…é¡»
â€‹â€‹â€‹â€‹objectâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
å¯¹è±¡ç±»å‹ï¼Œæ€»æ˜¯ â€‹â€‹â€‹â€‹"user"â€‹â€‹â€‹â€‹
æ˜¯
â€‹â€‹â€‹â€‹idâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ (UUID)
æ˜¯
â€‹â€‹â€‹â€‹typeâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
ç”¨æˆ·ç±»å‹ï¼Œæ€»æ˜¯ â€‹â€‹â€‹â€‹"person"â€‹â€‹â€‹â€‹
æ˜¯
é”™è¯¯å“åº”
401 Unauthorized - è®¤è¯å¤±è´¥:
{
  "error": {
    "code": "unauthorized",
    "message": "ç¼ºå°‘Authorization header"
  }
}
403 Forbidden - æƒé™ä¸è¶³:
{
  "error": {
    "code": "forbidden", 
    "message": "æœºå™¨äººæ²¡æœ‰readContentæƒé™"
  }
}
404 Not Found - åˆ›å»ºè€…ä¸å­˜åœ¨:
{
  "error": {
    "code": "not_found",
    "message": "æœºå™¨äººåˆ›å»ºè€…ä¸å­˜åœ¨"
  }
}
ä½¿ç”¨ç¤ºä¾‹
JavaScript ç¤ºä¾‹
class FlowUsBot {
  constructor(token) {
    this.token = token;
    this.baseUrl = 'https://api.flowus.cn';
  }

  async getMe() {
    const response = await fetch(`${this.baseUrl}/v1/users/me`, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${this.token}`,
        'Content-Type': 'application/json'
      }
    });

    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }

    return await response.json();
  }
}

// ä½¿ç”¨ç¤ºä¾‹
async function example() {
  const bot = new FlowUsBot('your_bot_token_here');
  
  try {
    const creator = await bot.getMe();
    console.log('æœºå™¨äººåˆ›å»ºè€…ä¿¡æ¯:', {
      id: creator.id,
      name: creator.name,
      email: creator.person?.email,
      hasAvatar: !!creator.avatar_url
    });
  } catch (error) {
    console.error('è·å–åˆ›å»ºè€…ä¿¡æ¯å¤±è´¥:', error.message);
  }
}
cURL ç¤ºä¾‹
curl -X GET "https://api.flowus.cn/v1/users/me" \
  -H "Authorization: Bearer your_bot_token_here" \
  -H "Content-Type: application/json"
Python ç¤ºä¾‹
import requests

class FlowUsBot:
    def __init__(self, token):
        self.token = token
        self.base_url = 'https://api.flowus.cn'
    
    def get_me(self):
        headers = {
            'Authorization': f'Bearer {self.token}',
            'Content-Type': 'application/json'
        }
        
        response = requests.get(f'{self.base_url}/v1/users/me', headers=headers)
        response.raise_for_status()
        return response.json()

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == '__main__':
    bot = FlowUsBot('your_bot_token_here')
    
    try:
        creator = bot.get_me()
        print(f"åˆ›å»ºè€…: {creator['name']} ({creator['id']})")
        if creator.get('person', {}).get('email'):
            print(f"é‚®ç®±: {creator['person']['email']}")
    except requests.RequestException as e:
        print(f"è¯·æ±‚å¤±è´¥: {e}")
ä½¿ç”¨åœºæ™¯
1. ä¸ªæ€§åŒ–æ¬¢è¿æ¶ˆæ¯
æ ¹æ®æœºå™¨äººåˆ›å»ºè€…çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸ªæ€§åŒ–çš„æ¬¢è¿æ¶ˆæ¯ï¼š
async function generateWelcomeMessage(bot) {
  const creator = await bot.getMe();
  const name = creator.name || 'ç”¨æˆ·';
  return `Hello ${name}! æˆ‘æ˜¯æ‚¨åˆ›å»ºçš„FlowUsæœºå™¨äººï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼`;
}
æœç´¢æ ‡é¢˜/å†…å®¹
æœç´¢ API æ–‡æ¡£
æ¦‚è¿°
æœç´¢ API å…è®¸æœºå™¨äººåœ¨å…¶æˆæƒçš„é¡µé¢èŒƒå›´å†…è¿›è¡Œæ™ºèƒ½æœç´¢ã€‚è¯¥æ¥å£æ”¯æŒå…¨æ–‡æœç´¢å’Œè¯­ä¹‰æœç´¢ï¼Œè¿”å›ç›¸å…³çš„é¡µé¢ç»“æœã€‚
æ¥å£è¯¦æƒ…
æœç´¢é¡µé¢
åœ¨æœºå™¨äººæˆæƒçš„é¡µé¢èŒƒå›´å†…æœç´¢ç›¸å…³å†…å®¹ã€‚
è¯·æ±‚æ–¹å¼ï¼š â€‹â€‹â€‹â€‹POST /v1/searchâ€‹â€‹â€‹â€‹
è¯·æ±‚å¤´ï¼š
Plain Text
1
Authorization: Bearer your_bot_token_here
2
Content-Type: application/json
è¯·æ±‚å‚æ•°ï¼š
å‚æ•°
ç±»å‹
å¿…å¡«
æè¿°
é»˜è®¤å€¼
â€‹â€‹â€‹â€‹queryâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
å¦
æœç´¢å…³é”®è¯
â€‹â€‹â€‹â€‹""â€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹start_cursorâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹stringâ€‹â€‹â€‹â€‹
å¦
åˆ†é¡µæ¸¸æ ‡ï¼Œç”¨äºè·å–ä¸‹ä¸€é¡µç»“æœ
-
â€‹â€‹â€‹â€‹page_sizeâ€‹â€‹â€‹â€‹
â€‹â€‹â€‹â€‹numberâ€‹â€‹â€‹â€‹
å¦
æ¯é¡µè¿”å›çš„ç»“æœæ•°é‡ï¼ŒèŒƒå›´ 1-100
â€‹â€‹â€‹â€‹10â€‹â€‹â€‹â€‹
è¯·æ±‚ç¤ºä¾‹ï¼š
JSON
1
{
2
  "query": "é¡¹ç›®è®¡åˆ’",
3
  "start_cursor": "eyJvZmZzZXQiOjEwfQ==",
4
  "page_size": 20
5
}
å“åº”æ ¼å¼ï¼š
{
  "object": "list",
  "results": [
    {
      "object": "page",
      "id": "a1b2c3d4-5678-9012-3456-789012345678",
      "created_time": "2024-01-01T10:00:00.000Z",
      "last_edited_time": "2024-01-15T14:30:00.000Z",
      "parent": {
        "type": "database_id",
        "database_id": "d9824bdc-8445-4327-be8b-5b47500af6ce"
      },
      "archived": false,
      "properties": {
        "title": {
          "type": "title",
          "title": [
            {
              "type": "text",
              "text": {
                "content": "é¡¹ç›®è®¡åˆ’æ–‡æ¡£"
              }
            }
          ]
        }
      }
    }
  ],
  "next_cursor": "eyJvZmZzZXQiOjIwfQ==",
  "has_more": true
}
å“åº”å¯¹è±¡è¯´æ˜
æœç´¢ç»“æœå¯¹è±¡
å±æ€§
ç±»å‹
æè¿°
é¡µé¢ç»“æœå¯¹è±¡
å±æ€§
ç±»å‹
æè¿°
çˆ¶çº§å¯¹è±¡ç±»å‹
é¡µé¢çš„çˆ¶çº§å¯¹è±¡å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ä¹‹ä¸€ï¼š
1. ç©ºé—´çˆ¶çº§
{
  "type": "space_id",
  "space_id": "workspace-uuid"
}
2. æ•°æ®åº“çˆ¶çº§
{
  "type": "database_id",
  "database_id": "database-uuid"
}
3. é¡µé¢çˆ¶çº§
{
  "type": "page_id",
  "page_id": "page-uuid"
}
4. å—çˆ¶çº§
{
  "type": "block_id",
  "block_id": "block-uuid"
}
æœç´¢è¡Œä¸º
æœç´¢èŒƒå›´
æœç´¢ä»…é™äºæœºå™¨äººå·²æˆæƒè®¿é—®çš„é¡µé¢
åŒ…æ‹¬é¡µé¢æ ‡é¢˜å’Œé¡µé¢å†…å®¹
æ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œè¯­ä¹‰æœç´¢
æœç´¢ç»“æœæ’åº
é»˜è®¤æŒ‰ç›¸å…³æ€§æ’åº
ç›¸å…³æ€§ç›¸åŒæ—¶æŒ‰æœ€åç¼–è¾‘æ—¶é—´é™åºæ’åˆ—
åˆ†é¡µæœºåˆ¶
ä½¿ç”¨ Base64 ç¼–ç çš„ JSON æ¸¸æ ‡è¿›è¡Œåˆ†é¡µ
æ¸¸æ ‡åŒ…å«åç§»é‡ä¿¡æ¯ï¼šâ€‹â€‹â€‹â€‹{"offset": 20}â€‹â€‹â€‹â€‹
æœ€å¤§é¡µé¢å¤§å°ä¸º 100 é¡¹
ä½¿ç”¨ç¤ºä¾‹
åŸºç¡€æœç´¢
curl -X POST https://api.flowus.cn/v1/search \
  -H "Authorization: Bearer your_bot_token" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ä¼šè®®è®°å½•",
    "page_size": 10
  }'
åˆ†é¡µæœç´¢
# è·å–ç¬¬ä¸€é¡µ
curl -X POST https://api.flowus.cn/v1/search \
  -H "Authorization: Bearer your_bot_token" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "é¡¹ç›®",
    "page_size": 20
  }'

# è·å–ä¸‹ä¸€é¡µï¼ˆä½¿ç”¨è¿”å›çš„ next_cursorï¼‰
curl -X POST https://api.flowus.cn/v1/search \
  -H "Authorization: Bearer your_bot_token" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "é¡¹ç›®",
    "start_cursor": "eyJvZmZzZXQiOjIwfQ==",
    "page_size": 20
  }'
ç©ºæŸ¥è¯¢æœç´¢
# è¿”å›æ‰€æœ‰æˆæƒé¡µé¢
curl -X POST https://api.flowus.cn/v1/search \
  -H "Authorization: Bearer your_bot_token" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "",
    "page_size": 50
  }'
é”™è¯¯å¤„ç†
å¸¸è§é”™è¯¯ä»£ç 
çŠ¶æ€ç 
é”™è¯¯ä»£ç 
æè¿°
é”™è¯¯å“åº”ç¤ºä¾‹
{
  "object": "error",
  "status": 400,
  "code": "validation_error",
  "message": "page_size å¿…é¡»åœ¨ 1 åˆ° 100 ä¹‹é—´"
}
æƒé™è¦æ±‚
æœºå™¨äººå¿…é¡»å…·æœ‰ â€‹â€‹â€‹â€‹readContentâ€‹â€‹â€‹â€‹ æƒé™
åªèƒ½æœç´¢æœºå™¨äººå·²æˆæƒè®¿é—®çš„é¡µé¢
æœç´¢ç»“æœä¼šè‡ªåŠ¨è¿‡æ»¤æ‰æ— æƒé™è®¿é—®çš„é¡µé¢
